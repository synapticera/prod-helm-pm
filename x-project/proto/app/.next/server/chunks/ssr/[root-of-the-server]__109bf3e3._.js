module.exports=[34074,(a,b,c)=>{"use strict";let d="u">typeof Buffer,e=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,f=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function g(a,b,c){null==c&&null!==b&&"object"==typeof b&&(c=b,b=void 0),d&&Buffer.isBuffer(a)&&(a=a.toString()),a&&65279===a.charCodeAt(0)&&(a=a.slice(1));let g=JSON.parse(a,b);if(null===g||"object"!=typeof g)return g;let i=c&&c.protoAction||"error",j=c&&c.constructorAction||"error";if("ignore"===i&&"ignore"===j)return g;if("ignore"!==i&&"ignore"!==j){if(!1===e.test(a)&&!1===f.test(a))return g}else if("ignore"!==i&&"ignore"===j){if(!1===e.test(a))return g}else if(!1===f.test(a))return g;return h(g,{protoAction:i,constructorAction:j,safe:c&&c.safe})}function h(a,{protoAction:b="error",constructorAction:c="error",safe:d}={}){let e=[a];for(;e.length;){let a=e;for(let f of(e=[],a)){if("ignore"!==b&&Object.prototype.hasOwnProperty.call(f,"__proto__")){if(!0===d)return null;if("error"===b)throw SyntaxError("Object contains forbidden prototype property");delete f.__proto__}if("ignore"!==c&&Object.prototype.hasOwnProperty.call(f,"constructor")&&Object.prototype.hasOwnProperty.call(f.constructor,"prototype")){if(!0===d)return null;if("error"===c)throw SyntaxError("Object contains forbidden prototype property");delete f.constructor}for(let a in f){let b=f[a];b&&"object"==typeof b&&e.push(b)}}}return a}function i(a,b,c){let d=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return g(a,b,c)}finally{Error.stackTraceLimit=d}}b.exports=i,b.exports.default=i,b.exports.parse=i,b.exports.safeParse=function(a,b){let c=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return g(a,b,{safe:!0})}catch(a){return null}finally{Error.stackTraceLimit=c}},b.exports.scan=h},45860,(a,b,c)=>{"use strict";var d=a.r(6028);d.useState,d.useEffect,d.useLayoutEffect,d.useDebugValue,c.useSyncExternalStore=void 0!==d.useSyncExternalStore?d.useSyncExternalStore:function(a,b){return b()}},2309,(a,b,c)=>{"use strict";b.exports=a.r(45860)},40399,(a,b,c)=>{b.exports=function(a,b){let c;if("function"!=typeof a)throw TypeError(`Expected the first argument to be a \`function\`, got \`${typeof a}\`.`);let d=0;return function(...e){clearTimeout(c);let f=Date.now(),g=b-(f-d);g<=0?(d=f,a.apply(this,e)):c=setTimeout(()=>{d=Date.now(),a.apply(this,e)},g)}}},66680,(a,b,c)=>{b.exports=a.x("node:crypto",()=>require("node:crypto"))},60883,(a,b,c)=>{"use strict";c._=function(a){return a&&a.__esModule?a:{default:a}}},76938,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"warnOnce",{enumerable:!0,get:function(){return d}});let d=a=>{}},22853,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={getDeploymentId:function(){return f},getDeploymentIdQueryOrEmptyString:function(){return g}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});function f(){return!1}function g(){return""}},75761,(a,b,c)=>{"use strict";function d({widthInt:a,heightInt:b,blurWidth:c,blurHeight:d,blurDataURL:e,objectFit:f}){let g=c?40*c:a,h=d?40*d:b,i=g&&h?`viewBox='0 0 ${g} ${h}'`:"";return`%3Csvg xmlns='http://www.w3.org/2000/svg' ${i}%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='${i?"none":"contain"===f?"xMidYMid":"cover"===f?"xMidYMid slice":"none"}' style='filter: url(%23b);' href='${e}'/%3E%3C/svg%3E`}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"getImageBlurSvg",{enumerable:!0,get:function(){return d}})},2452,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={VALID_LOADERS:function(){return f},imageConfigDefault:function(){return g}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=["default","imgix","cloudinary","akamai","custom"],g={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:14400,formats:["image/webp"],maximumRedirects:3,dangerouslyAllowLocalIP:!1,dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:[75],unoptimized:!1}},25751,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"getImgProps",{enumerable:!0,get:function(){return j}}),a.r(76938);let d=a.r(22853),e=a.r(75761),f=a.r(2452),g=["-moz-initial","fill","none","scale-down",void 0];function h(a){return void 0!==a.default}function i(a){return void 0===a?a:"number"==typeof a?Number.isFinite(a)?a:NaN:"string"==typeof a&&/^[0-9]+$/.test(a)?parseInt(a,10):NaN}function j({src:a,sizes:b,unoptimized:c=!1,priority:j=!1,preload:k=!1,loading:l,className:m,quality:n,width:o,height:p,fill:q=!1,style:r,overrideSrc:s,onLoad:t,onLoadingComplete:u,placeholder:v="empty",blurDataURL:w,fetchPriority:x,decoding:y="async",layout:z,objectFit:A,objectPosition:B,lazyBoundary:C,lazyRoot:D,...E},F){var G;let H,I,J,{imgConf:K,showAltText:L,blurComplete:M,defaultLoader:N}=F,O=K||f.imageConfigDefault;if("allSizes"in O)H=O;else{let a=[...O.deviceSizes,...O.imageSizes].sort((a,b)=>a-b),b=O.deviceSizes.sort((a,b)=>a-b),c=O.qualities?.sort((a,b)=>a-b);H={...O,allSizes:a,deviceSizes:b,qualities:c}}if(void 0===N)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let P=E.loader||N;delete E.loader,delete E.srcSet;let Q="__next_img_default"in P;if(Q){if("custom"===H.loader)throw Object.defineProperty(Error(`Image with src "${a}" is missing "loader" prop.
Read more: https://nextjs.org/docs/messages/next-image-missing-loader`),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let a=P;P=b=>{let{config:c,...d}=b;return a(d)}}if(z){"fill"===z&&(q=!0);let a={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[z];a&&(r={...r,...a});let c={responsive:"100vw",fill:"100vw"}[z];c&&!b&&(b=c)}let R="",S=i(o),T=i(p);if((G=a)&&"object"==typeof G&&(h(G)||void 0!==G.src)){let b=h(a)?a.default:a;if(!b.src)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ${JSON.stringify(b)}`),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!b.height||!b.width)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ${JSON.stringify(b)}`),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(I=b.blurWidth,J=b.blurHeight,w=w||b.blurDataURL,R=b.src,!q)if(S||T){if(S&&!T){let a=S/b.width;T=Math.round(b.height*a)}else if(!S&&T){let a=T/b.height;S=Math.round(b.width*a)}}else S=b.width,T=b.height}let U=!j&&!k&&("lazy"===l||void 0===l);(!(a="string"==typeof a?a:R)||a.startsWith("data:")||a.startsWith("blob:"))&&(c=!0,U=!1),H.unoptimized&&(c=!0),Q&&!H.dangerouslyAllowSVG&&a.split("?",1)[0].endsWith(".svg")&&(c=!0);let V=i(n),W=Object.assign(q?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:A,objectPosition:B}:{},L?{}:{color:"transparent"},r),X=M||"empty"===v?null:"blur"===v?`url("data:image/svg+xml;charset=utf-8,${(0,e.getImageBlurSvg)({widthInt:S,heightInt:T,blurWidth:I,blurHeight:J,blurDataURL:w||"",objectFit:W.objectFit})}")`:`url("${v}")`,Y=g.includes(W.objectFit)?"fill"===W.objectFit?"100% 100%":"cover":W.objectFit,Z=X?{backgroundSize:Y,backgroundPosition:W.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:X}:{},$=function({config:a,src:b,unoptimized:c,width:e,quality:f,sizes:g,loader:h}){if(c){let a=(0,d.getDeploymentId)();if(b.startsWith("/")&&!b.startsWith("//")&&a){let c=b.includes("?")?"&":"?";b=`${b}${c}dpl=${a}`}return{src:b,srcSet:void 0,sizes:void 0}}let{widths:i,kind:j}=function({deviceSizes:a,allSizes:b},c,d){if(d){let c=/(^|\s)(1?\d?\d)vw/g,e=[];for(let a;a=c.exec(d);)e.push(parseInt(a[2]));if(e.length){let c=.01*Math.min(...e);return{widths:b.filter(b=>b>=a[0]*c),kind:"w"}}return{widths:b,kind:"w"}}return"number"!=typeof c?{widths:a,kind:"w"}:{widths:[...new Set([c,2*c].map(a=>b.find(b=>b>=a)||b[b.length-1]))],kind:"x"}}(a,e,g),k=i.length-1;return{sizes:g||"w"!==j?g:"100vw",srcSet:i.map((c,d)=>`${h({config:a,src:b,quality:f,width:c})} ${"w"===j?c:d+1}${j}`).join(", "),src:h({config:a,src:b,quality:f,width:i[k]})}}({config:H,src:a,unoptimized:c,width:S,quality:V,sizes:b,loader:P}),_=U?"lazy":l;return{props:{...E,loading:_,fetchPriority:x,width:S,height:T,decoding:y,className:m,style:{...W,...Z},sizes:$.sizes,srcSet:$.srcSet,src:s||$.src},meta:{unoptimized:c,preload:k||j,placeholder:v,fill:q}}}},51329,(a,b,c)=>{"use strict";function d(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(d=function(a){return a?c:b})(a)}c._=function(a,b){if(!b&&a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var c=d(b);if(c&&c.has(a))return c.get(a);var e={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if("default"!==g&&Object.prototype.hasOwnProperty.call(a,g)){var h=f?Object.getOwnPropertyDescriptor(a,g):null;h&&(h.get||h.set)?Object.defineProperty(e,g,h):e[g]=a[g]}return e.default=a,c&&c.set(a,e),e}},53058,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return f}});let d=a.r(6028),e=()=>{};function f(a){let{headManager:b,reduceComponentsToState:c}=a;function f(){if(b&&b.mountedInstances){let a=d.Children.toArray(Array.from(b.mountedInstances).filter(Boolean));b.updateHead(c(a))}}return b?.mountedInstances?.add(a.children),f(),e(()=>(b?.mountedInstances?.add(a.children),()=>{b?.mountedInstances?.delete(a.children)})),e(()=>(b&&(b._pendingUpdate=f),()=>{b&&(b._pendingUpdate=f)})),null}},47421,(a,b,c)=>{"use strict";b.exports=a.r(70442).vendored.contexts.HeadManagerContext},66250,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={default:function(){return p},defaultHead:function(){return l}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(60883),g=a.r(51329),h=a.r(73119),i=g._(a.r(6028)),j=f._(a.r(53058)),k=a.r(47421);function l(){return[(0,h.jsx)("meta",{charSet:"utf-8"},"charset"),(0,h.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")]}function m(a,b){return"string"==typeof b||"number"==typeof b?a:b.type===i.default.Fragment?a.concat(i.default.Children.toArray(b.props.children).reduce((a,b)=>"string"==typeof b||"number"==typeof b?a:a.concat(b),[])):a.concat(b)}a.r(76938);let n=["name","httpEquiv","charSet","itemProp"];function o(a){let b,c,d,e;return a.reduce(m,[]).reverse().concat(l().reverse()).filter((b=new Set,c=new Set,d=new Set,e={},a=>{let f=!0,g=!1;if(a.key&&"number"!=typeof a.key&&a.key.indexOf("$")>0){g=!0;let c=a.key.slice(a.key.indexOf("$")+1);b.has(c)?f=!1:b.add(c)}switch(a.type){case"title":case"base":c.has(a.type)?f=!1:c.add(a.type);break;case"meta":for(let b=0,c=n.length;b<c;b++){let c=n[b];if(a.props.hasOwnProperty(c))if("charSet"===c)d.has(c)?f=!1:d.add(c);else{let b=a.props[c],d=e[c]||new Set;("name"!==c||!g)&&d.has(b)?f=!1:(d.add(b),e[c]=d)}}}return f})).reverse().map((a,b)=>{let c=a.key||b;return i.default.cloneElement(a,{key:c})})}let p=function({children:a}){let b=(0,i.useContext)(k.HeadManagerContext);return(0,h.jsx)(j.default,{reduceComponentsToState:o,headManager:b,children:a})};("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},14786,(a,b,c)=>{"use strict";b.exports=a.r(70442).vendored.contexts.ImageConfigContext},62765,(a,b,c)=>{"use strict";b.exports=a.r(70442).vendored.contexts.RouterContext},68856,(a,b,c)=>{"use strict";function d(a,b){let c=a||75;return b?.qualities?.length?b.qualities.reduce((a,b)=>Math.abs(b-c)<Math.abs(a-c)?b:a,0):c}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"findClosestQuality",{enumerable:!0,get:function(){return d}})},96772,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return g}});let d=a.r(68856),e=a.r(22853);function f({config:a,src:b,width:c,quality:f}){if(b.startsWith("/")&&b.includes("?")&&a.localPatterns?.length===1&&"**"===a.localPatterns[0].pathname&&""===a.localPatterns[0].search)throw Object.defineProperty(Error(`Image with src "${b}" is using a query string which is not configured in images.localPatterns.
Read more: https://nextjs.org/docs/messages/next-image-unconfigured-localpatterns`),"__NEXT_ERROR_CODE",{value:"E871",enumerable:!1,configurable:!0});let g=(0,d.findClosestQuality)(f,a),h=(0,e.getDeploymentId)();return`${a.path}?url=${encodeURIComponent(b)}&w=${c}&q=${g}${b.startsWith("/")&&h?`&dpl=${h}`:""}`}f.__next_img_default=!0;let g=f},89439,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"useMergedRef",{enumerable:!0,get:function(){return e}});let d=a.r(6028);function e(a,b){let c=(0,d.useRef)(null),e=(0,d.useRef)(null);return(0,d.useCallback)(d=>{if(null===d){let a=c.current;a&&(c.current=null,a());let b=e.current;b&&(e.current=null,b())}else a&&(c.current=f(a,d)),b&&(e.current=f(b,d))},[a,b])}function f(a,b){if("function"!=typeof a)return a.current=b,()=>{a.current=null};{let c=a(b);return"function"==typeof c?c:()=>a(null)}}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},51033,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"Image",{enumerable:!0,get:function(){return u}});let d=a.r(60883),e=a.r(51329),f=a.r(73119),g=e._(a.r(6028)),h=d._(a.r(58333)),i=d._(a.r(66250)),j=a.r(25751),k=a.r(2452),l=a.r(14786);a.r(76938);let m=a.r(62765),n=d._(a.r(96772)),o=a.r(89439),p={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1};function q(a,b,c,d,e,f,g){let h=a?.src;a&&a["data-loaded-src"]!==h&&(a["data-loaded-src"]=h,("decode"in a?a.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(a.parentElement&&a.isConnected){if("empty"!==b&&e(!0),c?.current){let b=new Event("load");Object.defineProperty(b,"target",{writable:!1,value:a});let d=!1,e=!1;c.current({...b,nativeEvent:b,currentTarget:a,target:a,isDefaultPrevented:()=>d,isPropagationStopped:()=>e,persist:()=>{},preventDefault:()=>{d=!0,b.preventDefault()},stopPropagation:()=>{e=!0,b.stopPropagation()}})}d?.current&&d.current(a)}}))}function r(a){return g.use?{fetchPriority:a}:{fetchpriority:a}}globalThis.__NEXT_IMAGE_IMPORTED=!0;let s=(0,g.forwardRef)(({src:a,srcSet:b,sizes:c,height:d,width:e,decoding:h,className:i,style:j,fetchPriority:k,placeholder:l,loading:m,unoptimized:n,fill:p,onLoadRef:s,onLoadingCompleteRef:t,setBlurComplete:u,setShowAltText:v,sizesInput:w,onLoad:x,onError:y,...z},A)=>{let B=(0,g.useCallback)(a=>{a&&(y&&(a.src=a.src),a.complete&&q(a,l,s,t,u,n,w))},[a,l,s,t,u,y,n,w]),C=(0,o.useMergedRef)(A,B);return(0,f.jsx)("img",{...z,...r(k),loading:m,width:e,height:d,decoding:h,"data-nimg":p?"fill":"1",className:i,style:j,sizes:c,srcSet:b,src:a,ref:C,onLoad:a=>{q(a.currentTarget,l,s,t,u,n,w)},onError:a=>{v(!0),"empty"!==l&&u(!0),y&&y(a)}})});function t({isAppRouter:a,imgAttributes:b}){let c={as:"image",imageSrcSet:b.srcSet,imageSizes:b.sizes,crossOrigin:b.crossOrigin,referrerPolicy:b.referrerPolicy,...r(b.fetchPriority)};return a&&h.default.preload?(h.default.preload(b.src,c),null):(0,f.jsx)(i.default,{children:(0,f.jsx)("link",{rel:"preload",href:b.srcSet?void 0:b.src,...c},"__nimg-"+b.src+b.srcSet+b.sizes)})}let u=(0,g.forwardRef)((a,b)=>{let c=(0,g.useContext)(m.RouterContext),d=(0,g.useContext)(l.ImageConfigContext),e=(0,g.useMemo)(()=>{let a=p||d||k.imageConfigDefault,b=[...a.deviceSizes,...a.imageSizes].sort((a,b)=>a-b),c=a.deviceSizes.sort((a,b)=>a-b),e=a.qualities?.sort((a,b)=>a-b);return{...a,allSizes:b,deviceSizes:c,qualities:e,localPatterns:d?.localPatterns}},[d]),{onLoad:h,onLoadingComplete:i}=a,o=(0,g.useRef)(h);(0,g.useEffect)(()=>{o.current=h},[h]);let q=(0,g.useRef)(i);(0,g.useEffect)(()=>{q.current=i},[i]);let[r,u]=(0,g.useState)(!1),[v,w]=(0,g.useState)(!1),{props:x,meta:y}=(0,j.getImgProps)(a,{defaultLoader:n.default,imgConf:e,blurComplete:r,showAltText:v});return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(s,{...x,unoptimized:y.unoptimized,placeholder:y.placeholder,fill:y.fill,onLoadRef:o,onLoadingCompleteRef:q,setBlurComplete:u,setShowAltText:w,sizesInput:a.sizes,ref:b}),y.preload?(0,f.jsx)(t,{isAppRouter:!c,imgAttributes:x}):null]})});("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},97789,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={default:function(){return k},getImageProps:function(){return j}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(60883),g=a.r(25751),h=a.r(51033),i=f._(a.r(96772));function j(a){let{props:b}=(0,g.getImgProps)(a,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[a,c]of Object.entries(b))void 0===c&&delete b[a];return{props:b}}let k=h.Image},60627,(a,b,c)=>{b.exports=a.r(97789)},82962,a=>{"use strict";let b,c,d;var e,f,g,h,i,j,k,l,m,n=a.i(73119),o="vercel.ai.error",p=Symbol.for(o),q=class a extends Error{constructor({name:a,message:b,cause:c}){super(b),this[h]=!0,this.name=a,this.cause=c}static isInstance(b){return a.hasMarker(b,o)}static hasMarker(a,b){let c=Symbol.for(b);return null!=a&&"object"==typeof a&&c in a&&"boolean"==typeof a[c]&&!0===a[c]}toJSON(){return{name:this.name,message:this.message}}};h=p;var r=q,s=(Symbol.for("vercel.ai.error.AI_APICallError"),Symbol.for("vercel.ai.error.AI_EmptyResponseBodyError"),"AI_InvalidArgumentError"),t=`vercel.ai.error.${s}`,u=Symbol.for(t),v=class extends r{constructor({message:a,cause:b,argument:c}){super({name:s,message:a,cause:b}),this[i]=!0,this.argument=c}static isInstance(a){return r.hasMarker(a,t)}};i=u,Symbol.for("vercel.ai.error.AI_InvalidPromptError"),Symbol.for("vercel.ai.error.AI_InvalidResponseDataError"),Symbol.for("vercel.ai.error.AI_JSONParseError"),Symbol.for("vercel.ai.error.AI_LoadAPIKeyError"),Symbol.for("vercel.ai.error.AI_LoadSettingError"),Symbol.for("vercel.ai.error.AI_NoContentGeneratedError"),Symbol.for("vercel.ai.error.AI_NoSuchModelError"),Symbol.for("vercel.ai.error.AI_TooManyEmbeddingValuesForCallError"),Symbol.for("vercel.ai.error.AI_TypeValidationError"),Symbol.for("vercel.ai.error.AI_UnsupportedFunctionalityError");var w=a.i(34074);TransformStream;var x=(({prefix:a,size:b=7,alphabet:c="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:d="-"}={})=>{let e=((a,b=21)=>(c=b)=>{let d="",e=0|c;for(;e--;)d+=a[Math.random()*a.length|0];return d})(c,b);if(null==a)return e;if(c.includes(d))throw new v({argument:"separator",message:`The separator "${d}" must not be part of the alphabet "${c}".`});return b=>`${a}${d}${e(b)}`})();Symbol.for("vercel.ai.validator");var{btoa:y,atob:z}=globalThis;let A=Symbol("Let zodToJsonSchema decide on which parser to use");function B(a,b,c,d){d?.errorMessages&&c&&(a.errorMessage={...a.errorMessage,[b]:c})}function C(a,b,c,d,e){a[b]=c,B(a,b,d,e)}let D=(a,b)=>{let c=0;for(;c<a.length&&c<b.length&&a[c]===b[c];c++);return[(a.length-c).toString(),...b.slice(c)].join("/")};(e=j||(j={})).assertEqual=a=>{},e.assertIs=function(a){},e.assertNever=function(a){throw Error()},e.arrayToEnum=a=>{let b={};for(let c of a)b[c]=c;return b},e.getValidEnumValues=a=>{let b=e.objectKeys(a).filter(b=>"number"!=typeof a[a[b]]),c={};for(let d of b)c[d]=a[d];return e.objectValues(c)},e.objectValues=a=>e.objectKeys(a).map(function(b){return a[b]}),e.objectKeys="function"==typeof Object.keys?a=>Object.keys(a):a=>{let b=[];for(let c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b},e.find=(a,b)=>{for(let c of a)if(b(c))return c},e.isInteger="function"==typeof Number.isInteger?a=>Number.isInteger(a):a=>"number"==typeof a&&Number.isFinite(a)&&Math.floor(a)===a,e.joinValues=function(a,b=" | "){return a.map(a=>"string"==typeof a?`'${a}'`:a).join(b)},e.jsonStringifyReplacer=(a,b)=>"bigint"==typeof b?b.toString():b,(k||(k={})).mergeShapes=(a,b)=>({...a,...b});let E=j.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),F=a=>{switch(typeof a){case"undefined":return E.undefined;case"string":return E.string;case"number":return Number.isNaN(a)?E.nan:E.number;case"boolean":return E.boolean;case"function":return E.function;case"bigint":return E.bigint;case"symbol":return E.symbol;case"object":if(Array.isArray(a))return E.array;if(null===a)return E.null;if(a.then&&"function"==typeof a.then&&a.catch&&"function"==typeof a.catch)return E.promise;if("u">typeof Map&&a instanceof Map)return E.map;if("u">typeof Set&&a instanceof Set)return E.set;if("u">typeof Date&&a instanceof Date)return E.date;return E.object;default:return E.unknown}},G=j.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class H extends Error{get errors(){return this.issues}constructor(a){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const b=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,b):this.__proto__=b,this.name="ZodError",this.issues=a}format(a){let b=a||function(a){return a.message},c={_errors:[]},d=a=>{for(let e of a.issues)if("invalid_union"===e.code)e.unionErrors.map(d);else if("invalid_return_type"===e.code)d(e.returnTypeError);else if("invalid_arguments"===e.code)d(e.argumentsError);else if(0===e.path.length)c._errors.push(b(e));else{let a=c,d=0;for(;d<e.path.length;){let c=e.path[d];d===e.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(b(e))):a[c]=a[c]||{_errors:[]},a=a[c],d++}}};return d(this),c}static assert(a){if(!(a instanceof H))throw Error(`Not a ZodError: ${a}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,j.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(a=a=>a.message){let b={},c=[];for(let d of this.issues)if(d.path.length>0){let c=d.path[0];b[c]=b[c]||[],b[c].push(a(d))}else c.push(a(d));return{formErrors:c,fieldErrors:b}}get formErrors(){return this.flatten()}}H.create=a=>new H(a);let I=(a,b)=>{let c;switch(a.code){case G.invalid_type:c=a.received===E.undefined?"Required":`Expected ${a.expected}, received ${a.received}`;break;case G.invalid_literal:c=`Invalid literal value, expected ${JSON.stringify(a.expected,j.jsonStringifyReplacer)}`;break;case G.unrecognized_keys:c=`Unrecognized key(s) in object: ${j.joinValues(a.keys,", ")}`;break;case G.invalid_union:c="Invalid input";break;case G.invalid_union_discriminator:c=`Invalid discriminator value. Expected ${j.joinValues(a.options)}`;break;case G.invalid_enum_value:c=`Invalid enum value. Expected ${j.joinValues(a.options)}, received '${a.received}'`;break;case G.invalid_arguments:c="Invalid function arguments";break;case G.invalid_return_type:c="Invalid function return type";break;case G.invalid_date:c="Invalid date";break;case G.invalid_string:"object"==typeof a.validation?"includes"in a.validation?(c=`Invalid input: must include "${a.validation.includes}"`,"number"==typeof a.validation.position&&(c=`${c} at one or more positions greater than or equal to ${a.validation.position}`)):"startsWith"in a.validation?c=`Invalid input: must start with "${a.validation.startsWith}"`:"endsWith"in a.validation?c=`Invalid input: must end with "${a.validation.endsWith}"`:j.assertNever(a.validation):c="regex"!==a.validation?`Invalid ${a.validation}`:"Invalid";break;case G.too_small:c="array"===a.type?`Array must contain ${a.exact?"exactly":a.inclusive?"at least":"more than"} ${a.minimum} element(s)`:"string"===a.type?`String must contain ${a.exact?"exactly":a.inclusive?"at least":"over"} ${a.minimum} character(s)`:"number"===a.type||"bigint"===a.type?`Number must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${a.minimum}`:"date"===a.type?`Date must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(a.minimum))}`:"Invalid input";break;case G.too_big:c="array"===a.type?`Array must contain ${a.exact?"exactly":a.inclusive?"at most":"less than"} ${a.maximum} element(s)`:"string"===a.type?`String must contain ${a.exact?"exactly":a.inclusive?"at most":"under"} ${a.maximum} character(s)`:"number"===a.type?`Number must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:"bigint"===a.type?`BigInt must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:"date"===a.type?`Date must be ${a.exact?"exactly":a.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(a.maximum))}`:"Invalid input";break;case G.custom:c="Invalid input";break;case G.invalid_intersection_types:c="Intersection results could not be merged";break;case G.not_multiple_of:c=`Number must be a multiple of ${a.multipleOf}`;break;case G.not_finite:c="Number must be finite";break;default:c=b.defaultError,j.assertNever(a)}return{message:c}};(f=l||(l={})).errToObj=a=>"string"==typeof a?{message:a}:a||{},f.toString=a=>"string"==typeof a?a:a?.message;let J=a=>{let{data:b,path:c,errorMaps:d,issueData:e}=a,f=[...c,...e.path||[]],g={...e,path:f};if(void 0!==e.message)return{...e,path:f,message:e.message};let h="";for(let a of d.filter(a=>!!a).slice().reverse())h=a(g,{data:b,defaultError:h}).message;return{...e,path:f,message:h}};function K(a,b){let c=J({issueData:b,data:a.data,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,I,void 0].filter(a=>!!a)});a.common.issues.push(c)}class L{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(a,b){let c=[];for(let d of b){if("aborted"===d.status)return M;"dirty"===d.status&&a.dirty(),c.push(d.value)}return{status:a.value,value:c}}static async mergeObjectAsync(a,b){let c=[];for(let a of b){let b=await a.key,d=await a.value;c.push({key:b,value:d})}return L.mergeObjectSync(a,c)}static mergeObjectSync(a,b){let c={};for(let d of b){let{key:b,value:e}=d;if("aborted"===b.status||"aborted"===e.status)return M;"dirty"===b.status&&a.dirty(),"dirty"===e.status&&a.dirty(),"__proto__"!==b.value&&(void 0!==e.value||d.alwaysSet)&&(c[b.value]=e.value)}return{status:a.value,value:c}}}let M=Object.freeze({status:"aborted"}),N=a=>({status:"dirty",value:a}),O=a=>({status:"valid",value:a}),P=a=>"u">typeof Promise&&a instanceof Promise;class Q{constructor(a,b,c,d){this._cachedPath=[],this.parent=a,this.data=b,this._path=c,this._key=d}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let R=(a,b)=>{if("valid"===b.status)return{success:!0,data:b.value};if(!a.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let b=new H(a.common.issues);return this._error=b,this._error}}};function S(a){if(!a)return{};let{errorMap:b,invalid_type_error:c,required_error:d,description:e}=a;if(b&&(c||d))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return b?{errorMap:b,description:e}:{errorMap:(b,e)=>{let{message:f}=a;return"invalid_enum_value"===b.code?{message:f??e.defaultError}:void 0===e.data?{message:f??d??e.defaultError}:"invalid_type"!==b.code?{message:e.defaultError}:{message:f??c??e.defaultError}},description:e}}class T{get description(){return this._def.description}_getType(a){return F(a.data)}_getOrReturnCtx(a,b){return b||{common:a.parent.common,data:a.data,parsedType:F(a.data),schemaErrorMap:this._def.errorMap,path:a.path,parent:a.parent}}_processInputParams(a){return{status:new L,ctx:{common:a.parent.common,data:a.data,parsedType:F(a.data),schemaErrorMap:this._def.errorMap,path:a.path,parent:a.parent}}}_parseSync(a){let b=this._parse(a);if(P(b))throw Error("Synchronous parse encountered promise.");return b}_parseAsync(a){return Promise.resolve(this._parse(a))}parse(a,b){let c=this.safeParse(a,b);if(c.success)return c.data;throw c.error}safeParse(a,b){let c={common:{issues:[],async:b?.async??!1,contextualErrorMap:b?.errorMap},path:b?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:F(a)},d=this._parseSync({data:a,path:c.path,parent:c});return R(c,d)}"~validate"(a){let b={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:F(a)};if(!this["~standard"].async)try{let c=this._parseSync({data:a,path:[],parent:b});return"valid"===c.status?{value:c.value}:{issues:b.common.issues}}catch(a){a?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),b.common={issues:[],async:!0}}return this._parseAsync({data:a,path:[],parent:b}).then(a=>"valid"===a.status?{value:a.value}:{issues:b.common.issues})}async parseAsync(a,b){let c=await this.safeParseAsync(a,b);if(c.success)return c.data;throw c.error}async safeParseAsync(a,b){let c={common:{issues:[],contextualErrorMap:b?.errorMap,async:!0},path:b?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:F(a)},d=this._parse({data:a,path:c.path,parent:c});return R(c,await (P(d)?d:Promise.resolve(d)))}refine(a,b){return this._refinement((c,d)=>{let e=a(c),f=()=>d.addIssue({code:G.custom,..."string"==typeof b||void 0===b?{message:b}:"function"==typeof b?b(c):b});return"u">typeof Promise&&e instanceof Promise?e.then(a=>!!a||(f(),!1)):!!e||(f(),!1)})}refinement(a,b){return this._refinement((c,d)=>!!a(c)||(d.addIssue("function"==typeof b?b(c,d):b),!1))}_refinement(a){return new aM({schema:this,typeName:m.ZodEffects,effect:{type:"refinement",refinement:a}})}superRefine(a){return this._refinement(a)}constructor(a){this.spa=this.safeParseAsync,this._def=a,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:a=>this["~validate"](a)}}optional(){return aN.create(this,this._def)}nullable(){return aO.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return av.create(this)}promise(){return aL.create(this,this._def)}or(a){return ax.create([this,a],this._def)}and(a){return aA.create(this,a,this._def)}transform(a){return new aM({...S(this._def),schema:this,typeName:m.ZodEffects,effect:{type:"transform",transform:a}})}default(a){return new aP({...S(this._def),innerType:this,defaultValue:"function"==typeof a?a:()=>a,typeName:m.ZodDefault})}brand(){return new aS({typeName:m.ZodBranded,type:this,...S(this._def)})}catch(a){return new aQ({...S(this._def),innerType:this,catchValue:"function"==typeof a?a:()=>a,typeName:m.ZodCatch})}describe(a){return new this.constructor({...this._def,description:a})}pipe(a){return aT.create(this,a)}readonly(){return aU.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let U=/^c[^\s-]{8,}$/i,V=/^[0-9a-z]+$/,W=/^[0-9A-HJKMNP-TV-Z]{26}$/i,X=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Y=/^[a-z0-9_-]{21}$/i,Z=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,$=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,_=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,aa=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ab=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ac=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ad=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ae=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,af=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,ag="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ah=RegExp(`^${ag}$`);function ai(a){let b="[0-5]\\d";a.precision?b=`${b}\\.\\d{${a.precision}}`:null==a.precision&&(b=`${b}(\\.\\d+)?`);let c=a.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${b})${c}`}class aj extends T{_parse(a){var c,d,e,f;let g;if(this._def.coerce&&(a.data=String(a.data)),this._getType(a)!==E.string){let b=this._getOrReturnCtx(a);return K(b,{code:G.invalid_type,expected:E.string,received:b.parsedType}),M}let h=new L;for(let i of this._def.checks)if("min"===i.kind)a.data.length<i.value&&(K(g=this._getOrReturnCtx(a,g),{code:G.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),h.dirty());else if("max"===i.kind)a.data.length>i.value&&(K(g=this._getOrReturnCtx(a,g),{code:G.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),h.dirty());else if("length"===i.kind){let b=a.data.length>i.value,c=a.data.length<i.value;(b||c)&&(g=this._getOrReturnCtx(a,g),b?K(g,{code:G.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):c&&K(g,{code:G.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),h.dirty())}else if("email"===i.kind)_.test(a.data)||(K(g=this._getOrReturnCtx(a,g),{validation:"email",code:G.invalid_string,message:i.message}),h.dirty());else if("emoji"===i.kind)b||(b=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),b.test(a.data)||(K(g=this._getOrReturnCtx(a,g),{validation:"emoji",code:G.invalid_string,message:i.message}),h.dirty());else if("uuid"===i.kind)X.test(a.data)||(K(g=this._getOrReturnCtx(a,g),{validation:"uuid",code:G.invalid_string,message:i.message}),h.dirty());else if("nanoid"===i.kind)Y.test(a.data)||(K(g=this._getOrReturnCtx(a,g),{validation:"nanoid",code:G.invalid_string,message:i.message}),h.dirty());else if("cuid"===i.kind)U.test(a.data)||(K(g=this._getOrReturnCtx(a,g),{validation:"cuid",code:G.invalid_string,message:i.message}),h.dirty());else if("cuid2"===i.kind)V.test(a.data)||(K(g=this._getOrReturnCtx(a,g),{validation:"cuid2",code:G.invalid_string,message:i.message}),h.dirty());else if("ulid"===i.kind)W.test(a.data)||(K(g=this._getOrReturnCtx(a,g),{validation:"ulid",code:G.invalid_string,message:i.message}),h.dirty());else if("url"===i.kind)try{new URL(a.data)}catch{K(g=this._getOrReturnCtx(a,g),{validation:"url",code:G.invalid_string,message:i.message}),h.dirty()}else"regex"===i.kind?(i.regex.lastIndex=0,i.regex.test(a.data)||(K(g=this._getOrReturnCtx(a,g),{validation:"regex",code:G.invalid_string,message:i.message}),h.dirty())):"trim"===i.kind?a.data=a.data.trim():"includes"===i.kind?a.data.includes(i.value,i.position)||(K(g=this._getOrReturnCtx(a,g),{code:G.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),h.dirty()):"toLowerCase"===i.kind?a.data=a.data.toLowerCase():"toUpperCase"===i.kind?a.data=a.data.toUpperCase():"startsWith"===i.kind?a.data.startsWith(i.value)||(K(g=this._getOrReturnCtx(a,g),{code:G.invalid_string,validation:{startsWith:i.value},message:i.message}),h.dirty()):"endsWith"===i.kind?a.data.endsWith(i.value)||(K(g=this._getOrReturnCtx(a,g),{code:G.invalid_string,validation:{endsWith:i.value},message:i.message}),h.dirty()):"datetime"===i.kind?(function(a){let b=`${ag}T${ai(a)}`,c=[];return c.push(a.local?"Z?":"Z"),a.offset&&c.push("([+-]\\d{2}:?\\d{2})"),b=`${b}(${c.join("|")})`,RegExp(`^${b}$`)})(i).test(a.data)||(K(g=this._getOrReturnCtx(a,g),{code:G.invalid_string,validation:"datetime",message:i.message}),h.dirty()):"date"===i.kind?ah.test(a.data)||(K(g=this._getOrReturnCtx(a,g),{code:G.invalid_string,validation:"date",message:i.message}),h.dirty()):"time"===i.kind?RegExp(`^${ai(i)}$`).test(a.data)||(K(g=this._getOrReturnCtx(a,g),{code:G.invalid_string,validation:"time",message:i.message}),h.dirty()):"duration"===i.kind?$.test(a.data)||(K(g=this._getOrReturnCtx(a,g),{validation:"duration",code:G.invalid_string,message:i.message}),h.dirty()):"ip"===i.kind?(c=a.data,!(("v4"===(d=i.version)||!d)&&aa.test(c)||("v6"===d||!d)&&ac.test(c))&&1&&(K(g=this._getOrReturnCtx(a,g),{validation:"ip",code:G.invalid_string,message:i.message}),h.dirty())):"jwt"===i.kind?!function(a,b){if(!Z.test(a))return!1;try{let[c]=a.split(".");if(!c)return!1;let d=c.replace(/-/g,"+").replace(/_/g,"/").padEnd(c.length+(4-c.length%4)%4,"="),e=JSON.parse(atob(d));if("object"!=typeof e||null===e||"typ"in e&&e?.typ!=="JWT"||!e.alg||b&&e.alg!==b)return!1;return!0}catch{return!1}}(a.data,i.alg)&&(K(g=this._getOrReturnCtx(a,g),{validation:"jwt",code:G.invalid_string,message:i.message}),h.dirty()):"cidr"===i.kind?(e=a.data,!(("v4"===(f=i.version)||!f)&&ab.test(e)||("v6"===f||!f)&&ad.test(e))&&1&&(K(g=this._getOrReturnCtx(a,g),{validation:"cidr",code:G.invalid_string,message:i.message}),h.dirty())):"base64"===i.kind?ae.test(a.data)||(K(g=this._getOrReturnCtx(a,g),{validation:"base64",code:G.invalid_string,message:i.message}),h.dirty()):"base64url"===i.kind?af.test(a.data)||(K(g=this._getOrReturnCtx(a,g),{validation:"base64url",code:G.invalid_string,message:i.message}),h.dirty()):j.assertNever(i);return{status:h.value,value:a.data}}_regex(a,b,c){return this.refinement(b=>a.test(b),{validation:b,code:G.invalid_string,...l.errToObj(c)})}_addCheck(a){return new aj({...this._def,checks:[...this._def.checks,a]})}email(a){return this._addCheck({kind:"email",...l.errToObj(a)})}url(a){return this._addCheck({kind:"url",...l.errToObj(a)})}emoji(a){return this._addCheck({kind:"emoji",...l.errToObj(a)})}uuid(a){return this._addCheck({kind:"uuid",...l.errToObj(a)})}nanoid(a){return this._addCheck({kind:"nanoid",...l.errToObj(a)})}cuid(a){return this._addCheck({kind:"cuid",...l.errToObj(a)})}cuid2(a){return this._addCheck({kind:"cuid2",...l.errToObj(a)})}ulid(a){return this._addCheck({kind:"ulid",...l.errToObj(a)})}base64(a){return this._addCheck({kind:"base64",...l.errToObj(a)})}base64url(a){return this._addCheck({kind:"base64url",...l.errToObj(a)})}jwt(a){return this._addCheck({kind:"jwt",...l.errToObj(a)})}ip(a){return this._addCheck({kind:"ip",...l.errToObj(a)})}cidr(a){return this._addCheck({kind:"cidr",...l.errToObj(a)})}datetime(a){return"string"==typeof a?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:a}):this._addCheck({kind:"datetime",precision:void 0===a?.precision?null:a?.precision,offset:a?.offset??!1,local:a?.local??!1,...l.errToObj(a?.message)})}date(a){return this._addCheck({kind:"date",message:a})}time(a){return"string"==typeof a?this._addCheck({kind:"time",precision:null,message:a}):this._addCheck({kind:"time",precision:void 0===a?.precision?null:a?.precision,...l.errToObj(a?.message)})}duration(a){return this._addCheck({kind:"duration",...l.errToObj(a)})}regex(a,b){return this._addCheck({kind:"regex",regex:a,...l.errToObj(b)})}includes(a,b){return this._addCheck({kind:"includes",value:a,position:b?.position,...l.errToObj(b?.message)})}startsWith(a,b){return this._addCheck({kind:"startsWith",value:a,...l.errToObj(b)})}endsWith(a,b){return this._addCheck({kind:"endsWith",value:a,...l.errToObj(b)})}min(a,b){return this._addCheck({kind:"min",value:a,...l.errToObj(b)})}max(a,b){return this._addCheck({kind:"max",value:a,...l.errToObj(b)})}length(a,b){return this._addCheck({kind:"length",value:a,...l.errToObj(b)})}nonempty(a){return this.min(1,l.errToObj(a))}trim(){return new aj({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new aj({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new aj({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(a=>"datetime"===a.kind)}get isDate(){return!!this._def.checks.find(a=>"date"===a.kind)}get isTime(){return!!this._def.checks.find(a=>"time"===a.kind)}get isDuration(){return!!this._def.checks.find(a=>"duration"===a.kind)}get isEmail(){return!!this._def.checks.find(a=>"email"===a.kind)}get isURL(){return!!this._def.checks.find(a=>"url"===a.kind)}get isEmoji(){return!!this._def.checks.find(a=>"emoji"===a.kind)}get isUUID(){return!!this._def.checks.find(a=>"uuid"===a.kind)}get isNANOID(){return!!this._def.checks.find(a=>"nanoid"===a.kind)}get isCUID(){return!!this._def.checks.find(a=>"cuid"===a.kind)}get isCUID2(){return!!this._def.checks.find(a=>"cuid2"===a.kind)}get isULID(){return!!this._def.checks.find(a=>"ulid"===a.kind)}get isIP(){return!!this._def.checks.find(a=>"ip"===a.kind)}get isCIDR(){return!!this._def.checks.find(a=>"cidr"===a.kind)}get isBase64(){return!!this._def.checks.find(a=>"base64"===a.kind)}get isBase64url(){return!!this._def.checks.find(a=>"base64url"===a.kind)}get minLength(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return a}get maxLength(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return a}}aj.create=a=>new aj({checks:[],typeName:m.ZodString,coerce:a?.coerce??!1,...S(a)});class ak extends T{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(a){let b;if(this._def.coerce&&(a.data=Number(a.data)),this._getType(a)!==E.number){let b=this._getOrReturnCtx(a);return K(b,{code:G.invalid_type,expected:E.number,received:b.parsedType}),M}let c=new L;for(let d of this._def.checks)"int"===d.kind?j.isInteger(a.data)||(K(b=this._getOrReturnCtx(a,b),{code:G.invalid_type,expected:"integer",received:"float",message:d.message}),c.dirty()):"min"===d.kind?(d.inclusive?a.data<d.value:a.data<=d.value)&&(K(b=this._getOrReturnCtx(a,b),{code:G.too_small,minimum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),c.dirty()):"max"===d.kind?(d.inclusive?a.data>d.value:a.data>=d.value)&&(K(b=this._getOrReturnCtx(a,b),{code:G.too_big,maximum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),c.dirty()):"multipleOf"===d.kind?0!==function(a,b){let c=(a.toString().split(".")[1]||"").length,d=(b.toString().split(".")[1]||"").length,e=c>d?c:d;return Number.parseInt(a.toFixed(e).replace(".",""))%Number.parseInt(b.toFixed(e).replace(".",""))/10**e}(a.data,d.value)&&(K(b=this._getOrReturnCtx(a,b),{code:G.not_multiple_of,multipleOf:d.value,message:d.message}),c.dirty()):"finite"===d.kind?Number.isFinite(a.data)||(K(b=this._getOrReturnCtx(a,b),{code:G.not_finite,message:d.message}),c.dirty()):j.assertNever(d);return{status:c.value,value:a.data}}gte(a,b){return this.setLimit("min",a,!0,l.toString(b))}gt(a,b){return this.setLimit("min",a,!1,l.toString(b))}lte(a,b){return this.setLimit("max",a,!0,l.toString(b))}lt(a,b){return this.setLimit("max",a,!1,l.toString(b))}setLimit(a,b,c,d){return new ak({...this._def,checks:[...this._def.checks,{kind:a,value:b,inclusive:c,message:l.toString(d)}]})}_addCheck(a){return new ak({...this._def,checks:[...this._def.checks,a]})}int(a){return this._addCheck({kind:"int",message:l.toString(a)})}positive(a){return this._addCheck({kind:"min",value:0,inclusive:!1,message:l.toString(a)})}negative(a){return this._addCheck({kind:"max",value:0,inclusive:!1,message:l.toString(a)})}nonpositive(a){return this._addCheck({kind:"max",value:0,inclusive:!0,message:l.toString(a)})}nonnegative(a){return this._addCheck({kind:"min",value:0,inclusive:!0,message:l.toString(a)})}multipleOf(a,b){return this._addCheck({kind:"multipleOf",value:a,message:l.toString(b)})}finite(a){return this._addCheck({kind:"finite",message:l.toString(a)})}safe(a){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:l.toString(a)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:l.toString(a)})}get minValue(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return a}get maxValue(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return a}get isInt(){return!!this._def.checks.find(a=>"int"===a.kind||"multipleOf"===a.kind&&j.isInteger(a.value))}get isFinite(){let a=null,b=null;for(let c of this._def.checks)if("finite"===c.kind||"int"===c.kind||"multipleOf"===c.kind)return!0;else"min"===c.kind?(null===b||c.value>b)&&(b=c.value):"max"===c.kind&&(null===a||c.value<a)&&(a=c.value);return Number.isFinite(b)&&Number.isFinite(a)}}ak.create=a=>new ak({checks:[],typeName:m.ZodNumber,coerce:a?.coerce||!1,...S(a)});class al extends T{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(a){let b;if(this._def.coerce)try{a.data=BigInt(a.data)}catch{return this._getInvalidInput(a)}if(this._getType(a)!==E.bigint)return this._getInvalidInput(a);let c=new L;for(let d of this._def.checks)"min"===d.kind?(d.inclusive?a.data<d.value:a.data<=d.value)&&(K(b=this._getOrReturnCtx(a,b),{code:G.too_small,type:"bigint",minimum:d.value,inclusive:d.inclusive,message:d.message}),c.dirty()):"max"===d.kind?(d.inclusive?a.data>d.value:a.data>=d.value)&&(K(b=this._getOrReturnCtx(a,b),{code:G.too_big,type:"bigint",maximum:d.value,inclusive:d.inclusive,message:d.message}),c.dirty()):"multipleOf"===d.kind?a.data%d.value!==BigInt(0)&&(K(b=this._getOrReturnCtx(a,b),{code:G.not_multiple_of,multipleOf:d.value,message:d.message}),c.dirty()):j.assertNever(d);return{status:c.value,value:a.data}}_getInvalidInput(a){let b=this._getOrReturnCtx(a);return K(b,{code:G.invalid_type,expected:E.bigint,received:b.parsedType}),M}gte(a,b){return this.setLimit("min",a,!0,l.toString(b))}gt(a,b){return this.setLimit("min",a,!1,l.toString(b))}lte(a,b){return this.setLimit("max",a,!0,l.toString(b))}lt(a,b){return this.setLimit("max",a,!1,l.toString(b))}setLimit(a,b,c,d){return new al({...this._def,checks:[...this._def.checks,{kind:a,value:b,inclusive:c,message:l.toString(d)}]})}_addCheck(a){return new al({...this._def,checks:[...this._def.checks,a]})}positive(a){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:l.toString(a)})}negative(a){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:l.toString(a)})}nonpositive(a){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:l.toString(a)})}nonnegative(a){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:l.toString(a)})}multipleOf(a,b){return this._addCheck({kind:"multipleOf",value:a,message:l.toString(b)})}get minValue(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return a}get maxValue(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return a}}al.create=a=>new al({checks:[],typeName:m.ZodBigInt,coerce:a?.coerce??!1,...S(a)});class am extends T{_parse(a){if(this._def.coerce&&(a.data=!!a.data),this._getType(a)!==E.boolean){let b=this._getOrReturnCtx(a);return K(b,{code:G.invalid_type,expected:E.boolean,received:b.parsedType}),M}return O(a.data)}}am.create=a=>new am({typeName:m.ZodBoolean,coerce:a?.coerce||!1,...S(a)});class an extends T{_parse(a){let b;if(this._def.coerce&&(a.data=new Date(a.data)),this._getType(a)!==E.date){let b=this._getOrReturnCtx(a);return K(b,{code:G.invalid_type,expected:E.date,received:b.parsedType}),M}if(Number.isNaN(a.data.getTime()))return K(this._getOrReturnCtx(a),{code:G.invalid_date}),M;let c=new L;for(let d of this._def.checks)"min"===d.kind?a.data.getTime()<d.value&&(K(b=this._getOrReturnCtx(a,b),{code:G.too_small,message:d.message,inclusive:!0,exact:!1,minimum:d.value,type:"date"}),c.dirty()):"max"===d.kind?a.data.getTime()>d.value&&(K(b=this._getOrReturnCtx(a,b),{code:G.too_big,message:d.message,inclusive:!0,exact:!1,maximum:d.value,type:"date"}),c.dirty()):j.assertNever(d);return{status:c.value,value:new Date(a.data.getTime())}}_addCheck(a){return new an({...this._def,checks:[...this._def.checks,a]})}min(a,b){return this._addCheck({kind:"min",value:a.getTime(),message:l.toString(b)})}max(a,b){return this._addCheck({kind:"max",value:a.getTime(),message:l.toString(b)})}get minDate(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return null!=a?new Date(a):null}get maxDate(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return null!=a?new Date(a):null}}an.create=a=>new an({checks:[],coerce:a?.coerce||!1,typeName:m.ZodDate,...S(a)});class ao extends T{_parse(a){if(this._getType(a)!==E.symbol){let b=this._getOrReturnCtx(a);return K(b,{code:G.invalid_type,expected:E.symbol,received:b.parsedType}),M}return O(a.data)}}ao.create=a=>new ao({typeName:m.ZodSymbol,...S(a)});class ap extends T{_parse(a){if(this._getType(a)!==E.undefined){let b=this._getOrReturnCtx(a);return K(b,{code:G.invalid_type,expected:E.undefined,received:b.parsedType}),M}return O(a.data)}}ap.create=a=>new ap({typeName:m.ZodUndefined,...S(a)});class aq extends T{_parse(a){if(this._getType(a)!==E.null){let b=this._getOrReturnCtx(a);return K(b,{code:G.invalid_type,expected:E.null,received:b.parsedType}),M}return O(a.data)}}aq.create=a=>new aq({typeName:m.ZodNull,...S(a)});class ar extends T{constructor(){super(...arguments),this._any=!0}_parse(a){return O(a.data)}}ar.create=a=>new ar({typeName:m.ZodAny,...S(a)});class as extends T{constructor(){super(...arguments),this._unknown=!0}_parse(a){return O(a.data)}}as.create=a=>new as({typeName:m.ZodUnknown,...S(a)});class at extends T{_parse(a){let b=this._getOrReturnCtx(a);return K(b,{code:G.invalid_type,expected:E.never,received:b.parsedType}),M}}at.create=a=>new at({typeName:m.ZodNever,...S(a)});class au extends T{_parse(a){if(this._getType(a)!==E.undefined){let b=this._getOrReturnCtx(a);return K(b,{code:G.invalid_type,expected:E.void,received:b.parsedType}),M}return O(a.data)}}au.create=a=>new au({typeName:m.ZodVoid,...S(a)});class av extends T{_parse(a){let{ctx:b,status:c}=this._processInputParams(a),d=this._def;if(b.parsedType!==E.array)return K(b,{code:G.invalid_type,expected:E.array,received:b.parsedType}),M;if(null!==d.exactLength){let a=b.data.length>d.exactLength.value,e=b.data.length<d.exactLength.value;(a||e)&&(K(b,{code:a?G.too_big:G.too_small,minimum:e?d.exactLength.value:void 0,maximum:a?d.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:d.exactLength.message}),c.dirty())}if(null!==d.minLength&&b.data.length<d.minLength.value&&(K(b,{code:G.too_small,minimum:d.minLength.value,type:"array",inclusive:!0,exact:!1,message:d.minLength.message}),c.dirty()),null!==d.maxLength&&b.data.length>d.maxLength.value&&(K(b,{code:G.too_big,maximum:d.maxLength.value,type:"array",inclusive:!0,exact:!1,message:d.maxLength.message}),c.dirty()),b.common.async)return Promise.all([...b.data].map((a,c)=>d.type._parseAsync(new Q(b,a,b.path,c)))).then(a=>L.mergeArray(c,a));let e=[...b.data].map((a,c)=>d.type._parseSync(new Q(b,a,b.path,c)));return L.mergeArray(c,e)}get element(){return this._def.type}min(a,b){return new av({...this._def,minLength:{value:a,message:l.toString(b)}})}max(a,b){return new av({...this._def,maxLength:{value:a,message:l.toString(b)}})}length(a,b){return new av({...this._def,exactLength:{value:a,message:l.toString(b)}})}nonempty(a){return this.min(1,a)}}av.create=(a,b)=>new av({type:a,minLength:null,maxLength:null,exactLength:null,typeName:m.ZodArray,...S(b)});class aw extends T{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let a=this._def.shape(),b=j.objectKeys(a);return this._cached={shape:a,keys:b},this._cached}_parse(a){if(this._getType(a)!==E.object){let b=this._getOrReturnCtx(a);return K(b,{code:G.invalid_type,expected:E.object,received:b.parsedType}),M}let{status:b,ctx:c}=this._processInputParams(a),{shape:d,keys:e}=this._getCached(),f=[];if(!(this._def.catchall instanceof at&&"strip"===this._def.unknownKeys))for(let a in c.data)e.includes(a)||f.push(a);let g=[];for(let a of e){let b=d[a],e=c.data[a];g.push({key:{status:"valid",value:a},value:b._parse(new Q(c,e,c.path,a)),alwaysSet:a in c.data})}if(this._def.catchall instanceof at){let a=this._def.unknownKeys;if("passthrough"===a)for(let a of f)g.push({key:{status:"valid",value:a},value:{status:"valid",value:c.data[a]}});else if("strict"===a)f.length>0&&(K(c,{code:G.unrecognized_keys,keys:f}),b.dirty());else if("strip"===a);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let a=this._def.catchall;for(let b of f){let d=c.data[b];g.push({key:{status:"valid",value:b},value:a._parse(new Q(c,d,c.path,b)),alwaysSet:b in c.data})}}return c.common.async?Promise.resolve().then(async()=>{let a=[];for(let b of g){let c=await b.key,d=await b.value;a.push({key:c,value:d,alwaysSet:b.alwaysSet})}return a}).then(a=>L.mergeObjectSync(b,a)):L.mergeObjectSync(b,g)}get shape(){return this._def.shape()}strict(a){return l.errToObj,new aw({...this._def,unknownKeys:"strict",...void 0!==a?{errorMap:(b,c)=>{let d=this._def.errorMap?.(b,c).message??c.defaultError;return"unrecognized_keys"===b.code?{message:l.errToObj(a).message??d}:{message:d}}}:{}})}strip(){return new aw({...this._def,unknownKeys:"strip"})}passthrough(){return new aw({...this._def,unknownKeys:"passthrough"})}extend(a){return new aw({...this._def,shape:()=>({...this._def.shape(),...a})})}merge(a){return new aw({unknownKeys:a._def.unknownKeys,catchall:a._def.catchall,shape:()=>({...this._def.shape(),...a._def.shape()}),typeName:m.ZodObject})}setKey(a,b){return this.augment({[a]:b})}catchall(a){return new aw({...this._def,catchall:a})}pick(a){let b={};for(let c of j.objectKeys(a))a[c]&&this.shape[c]&&(b[c]=this.shape[c]);return new aw({...this._def,shape:()=>b})}omit(a){let b={};for(let c of j.objectKeys(this.shape))a[c]||(b[c]=this.shape[c]);return new aw({...this._def,shape:()=>b})}deepPartial(){return function a(b){if(b instanceof aw){let c={};for(let d in b.shape){let e=b.shape[d];c[d]=aN.create(a(e))}return new aw({...b._def,shape:()=>c})}if(b instanceof av)return new av({...b._def,type:a(b.element)});if(b instanceof aN)return aN.create(a(b.unwrap()));if(b instanceof aO)return aO.create(a(b.unwrap()));if(b instanceof aB)return aB.create(b.items.map(b=>a(b)));else return b}(this)}partial(a){let b={};for(let c of j.objectKeys(this.shape)){let d=this.shape[c];a&&!a[c]?b[c]=d:b[c]=d.optional()}return new aw({...this._def,shape:()=>b})}required(a){let b={};for(let c of j.objectKeys(this.shape))if(a&&!a[c])b[c]=this.shape[c];else{let a=this.shape[c];for(;a instanceof aN;)a=a._def.innerType;b[c]=a}return new aw({...this._def,shape:()=>b})}keyof(){return aI(j.objectKeys(this.shape))}}aw.create=(a,b)=>new aw({shape:()=>a,unknownKeys:"strip",catchall:at.create(),typeName:m.ZodObject,...S(b)}),aw.strictCreate=(a,b)=>new aw({shape:()=>a,unknownKeys:"strict",catchall:at.create(),typeName:m.ZodObject,...S(b)}),aw.lazycreate=(a,b)=>new aw({shape:a,unknownKeys:"strip",catchall:at.create(),typeName:m.ZodObject,...S(b)});class ax extends T{_parse(a){let{ctx:b}=this._processInputParams(a),c=this._def.options;if(b.common.async)return Promise.all(c.map(async a=>{let c={...b,common:{...b.common,issues:[]},parent:null};return{result:await a._parseAsync({data:b.data,path:b.path,parent:c}),ctx:c}})).then(function(a){for(let b of a)if("valid"===b.result.status)return b.result;for(let c of a)if("dirty"===c.result.status)return b.common.issues.push(...c.ctx.common.issues),c.result;let c=a.map(a=>new H(a.ctx.common.issues));return K(b,{code:G.invalid_union,unionErrors:c}),M});{let a,d=[];for(let e of c){let c={...b,common:{...b.common,issues:[]},parent:null},f=e._parseSync({data:b.data,path:b.path,parent:c});if("valid"===f.status)return f;"dirty"!==f.status||a||(a={result:f,ctx:c}),c.common.issues.length&&d.push(c.common.issues)}if(a)return b.common.issues.push(...a.ctx.common.issues),a.result;let e=d.map(a=>new H(a));return K(b,{code:G.invalid_union,unionErrors:e}),M}}get options(){return this._def.options}}ax.create=(a,b)=>new ax({options:a,typeName:m.ZodUnion,...S(b)});let ay=a=>{if(a instanceof aG)return ay(a.schema);if(a instanceof aM)return ay(a.innerType());if(a instanceof aH)return[a.value];if(a instanceof aJ)return a.options;if(a instanceof aK)return j.objectValues(a.enum);else if(a instanceof aP)return ay(a._def.innerType);else if(a instanceof ap)return[void 0];else if(a instanceof aq)return[null];else if(a instanceof aN)return[void 0,...ay(a.unwrap())];else if(a instanceof aO)return[null,...ay(a.unwrap())];else if(a instanceof aS)return ay(a.unwrap());else if(a instanceof aU)return ay(a.unwrap());else if(a instanceof aQ)return ay(a._def.innerType);else return[]};class az extends T{_parse(a){let{ctx:b}=this._processInputParams(a);if(b.parsedType!==E.object)return K(b,{code:G.invalid_type,expected:E.object,received:b.parsedType}),M;let c=this.discriminator,d=b.data[c],e=this.optionsMap.get(d);return e?b.common.async?e._parseAsync({data:b.data,path:b.path,parent:b}):e._parseSync({data:b.data,path:b.path,parent:b}):(K(b,{code:G.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[c]}),M)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(a,b,c){let d=new Map;for(let c of b){let b=ay(c.shape[a]);if(!b.length)throw Error(`A discriminator value for key \`${a}\` could not be extracted from all schema options`);for(let e of b){if(d.has(e))throw Error(`Discriminator property ${String(a)} has duplicate value ${String(e)}`);d.set(e,c)}}return new az({typeName:m.ZodDiscriminatedUnion,discriminator:a,options:b,optionsMap:d,...S(c)})}}class aA extends T{_parse(a){let{status:b,ctx:c}=this._processInputParams(a),d=(a,d)=>{if("aborted"===a.status||"aborted"===d.status)return M;let e=function a(b,c){let d=F(b),e=F(c);if(b===c)return{valid:!0,data:b};if(d===E.object&&e===E.object){let d=j.objectKeys(c),e=j.objectKeys(b).filter(a=>-1!==d.indexOf(a)),f={...b,...c};for(let d of e){let e=a(b[d],c[d]);if(!e.valid)return{valid:!1};f[d]=e.data}return{valid:!0,data:f}}if(d===E.array&&e===E.array){if(b.length!==c.length)return{valid:!1};let d=[];for(let e=0;e<b.length;e++){let f=a(b[e],c[e]);if(!f.valid)return{valid:!1};d.push(f.data)}return{valid:!0,data:d}}if(d===E.date&&e===E.date&&+b==+c)return{valid:!0,data:b};return{valid:!1}}(a.value,d.value);return e.valid?(("dirty"===a.status||"dirty"===d.status)&&b.dirty(),{status:b.value,value:e.data}):(K(c,{code:G.invalid_intersection_types}),M)};return c.common.async?Promise.all([this._def.left._parseAsync({data:c.data,path:c.path,parent:c}),this._def.right._parseAsync({data:c.data,path:c.path,parent:c})]).then(([a,b])=>d(a,b)):d(this._def.left._parseSync({data:c.data,path:c.path,parent:c}),this._def.right._parseSync({data:c.data,path:c.path,parent:c}))}}aA.create=(a,b,c)=>new aA({left:a,right:b,typeName:m.ZodIntersection,...S(c)});class aB extends T{_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==E.array)return K(c,{code:G.invalid_type,expected:E.array,received:c.parsedType}),M;if(c.data.length<this._def.items.length)return K(c,{code:G.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),M;!this._def.rest&&c.data.length>this._def.items.length&&(K(c,{code:G.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),b.dirty());let d=[...c.data].map((a,b)=>{let d=this._def.items[b]||this._def.rest;return d?d._parse(new Q(c,a,c.path,b)):null}).filter(a=>!!a);return c.common.async?Promise.all(d).then(a=>L.mergeArray(b,a)):L.mergeArray(b,d)}get items(){return this._def.items}rest(a){return new aB({...this._def,rest:a})}}aB.create=(a,b)=>{if(!Array.isArray(a))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new aB({items:a,typeName:m.ZodTuple,rest:null,...S(b)})};class aC extends T{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==E.object)return K(c,{code:G.invalid_type,expected:E.object,received:c.parsedType}),M;let d=[],e=this._def.keyType,f=this._def.valueType;for(let a in c.data)d.push({key:e._parse(new Q(c,a,c.path,a)),value:f._parse(new Q(c,c.data[a],c.path,a)),alwaysSet:a in c.data});return c.common.async?L.mergeObjectAsync(b,d):L.mergeObjectSync(b,d)}get element(){return this._def.valueType}static create(a,b,c){return new aC(b instanceof T?{keyType:a,valueType:b,typeName:m.ZodRecord,...S(c)}:{keyType:aj.create(),valueType:a,typeName:m.ZodRecord,...S(b)})}}class aD extends T{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==E.map)return K(c,{code:G.invalid_type,expected:E.map,received:c.parsedType}),M;let d=this._def.keyType,e=this._def.valueType,f=[...c.data.entries()].map(([a,b],f)=>({key:d._parse(new Q(c,a,c.path,[f,"key"])),value:e._parse(new Q(c,b,c.path,[f,"value"]))}));if(c.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let c of f){let d=await c.key,e=await c.value;if("aborted"===d.status||"aborted"===e.status)return M;("dirty"===d.status||"dirty"===e.status)&&b.dirty(),a.set(d.value,e.value)}return{status:b.value,value:a}})}{let a=new Map;for(let c of f){let d=c.key,e=c.value;if("aborted"===d.status||"aborted"===e.status)return M;("dirty"===d.status||"dirty"===e.status)&&b.dirty(),a.set(d.value,e.value)}return{status:b.value,value:a}}}}aD.create=(a,b,c)=>new aD({valueType:b,keyType:a,typeName:m.ZodMap,...S(c)});class aE extends T{_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==E.set)return K(c,{code:G.invalid_type,expected:E.set,received:c.parsedType}),M;let d=this._def;null!==d.minSize&&c.data.size<d.minSize.value&&(K(c,{code:G.too_small,minimum:d.minSize.value,type:"set",inclusive:!0,exact:!1,message:d.minSize.message}),b.dirty()),null!==d.maxSize&&c.data.size>d.maxSize.value&&(K(c,{code:G.too_big,maximum:d.maxSize.value,type:"set",inclusive:!0,exact:!1,message:d.maxSize.message}),b.dirty());let e=this._def.valueType;function f(a){let c=new Set;for(let d of a){if("aborted"===d.status)return M;"dirty"===d.status&&b.dirty(),c.add(d.value)}return{status:b.value,value:c}}let g=[...c.data.values()].map((a,b)=>e._parse(new Q(c,a,c.path,b)));return c.common.async?Promise.all(g).then(a=>f(a)):f(g)}min(a,b){return new aE({...this._def,minSize:{value:a,message:l.toString(b)}})}max(a,b){return new aE({...this._def,maxSize:{value:a,message:l.toString(b)}})}size(a,b){return this.min(a,b).max(a,b)}nonempty(a){return this.min(1,a)}}aE.create=(a,b)=>new aE({valueType:a,minSize:null,maxSize:null,typeName:m.ZodSet,...S(b)});class aF extends T{constructor(){super(...arguments),this.validate=this.implement}_parse(a){let{ctx:b}=this._processInputParams(a);if(b.parsedType!==E.function)return K(b,{code:G.invalid_type,expected:E.function,received:b.parsedType}),M;function c(a,c){return J({data:a,path:b.path,errorMaps:[b.common.contextualErrorMap,b.schemaErrorMap,I,I].filter(a=>!!a),issueData:{code:G.invalid_arguments,argumentsError:c}})}function d(a,c){return J({data:a,path:b.path,errorMaps:[b.common.contextualErrorMap,b.schemaErrorMap,I,I].filter(a=>!!a),issueData:{code:G.invalid_return_type,returnTypeError:c}})}let e={errorMap:b.common.contextualErrorMap},f=b.data;if(this._def.returns instanceof aL){let a=this;return O(async function(...b){let g=new H([]),h=await a._def.args.parseAsync(b,e).catch(a=>{throw g.addIssue(c(b,a)),g}),i=await Reflect.apply(f,this,h);return await a._def.returns._def.type.parseAsync(i,e).catch(a=>{throw g.addIssue(d(i,a)),g})})}{let a=this;return O(function(...b){let g=a._def.args.safeParse(b,e);if(!g.success)throw new H([c(b,g.error)]);let h=Reflect.apply(f,this,g.data),i=a._def.returns.safeParse(h,e);if(!i.success)throw new H([d(h,i.error)]);return i.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...a){return new aF({...this._def,args:aB.create(a).rest(as.create())})}returns(a){return new aF({...this._def,returns:a})}implement(a){return this.parse(a)}strictImplement(a){return this.parse(a)}static create(a,b,c){return new aF({args:a||aB.create([]).rest(as.create()),returns:b||as.create(),typeName:m.ZodFunction,...S(c)})}}class aG extends T{get schema(){return this._def.getter()}_parse(a){let{ctx:b}=this._processInputParams(a);return this._def.getter()._parse({data:b.data,path:b.path,parent:b})}}aG.create=(a,b)=>new aG({getter:a,typeName:m.ZodLazy,...S(b)});class aH extends T{_parse(a){if(a.data!==this._def.value){let b=this._getOrReturnCtx(a);return K(b,{received:b.data,code:G.invalid_literal,expected:this._def.value}),M}return{status:"valid",value:a.data}}get value(){return this._def.value}}function aI(a,b){return new aJ({values:a,typeName:m.ZodEnum,...S(b)})}aH.create=(a,b)=>new aH({value:a,typeName:m.ZodLiteral,...S(b)});class aJ extends T{_parse(a){if("string"!=typeof a.data){let b=this._getOrReturnCtx(a),c=this._def.values;return K(b,{expected:j.joinValues(c),received:b.parsedType,code:G.invalid_type}),M}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(a.data)){let b=this._getOrReturnCtx(a),c=this._def.values;return K(b,{received:b.data,code:G.invalid_enum_value,options:c}),M}return O(a.data)}get options(){return this._def.values}get enum(){let a={};for(let b of this._def.values)a[b]=b;return a}get Values(){let a={};for(let b of this._def.values)a[b]=b;return a}get Enum(){let a={};for(let b of this._def.values)a[b]=b;return a}extract(a,b=this._def){return aJ.create(a,{...this._def,...b})}exclude(a,b=this._def){return aJ.create(this.options.filter(b=>!a.includes(b)),{...this._def,...b})}}aJ.create=aI;class aK extends T{_parse(a){let b=j.getValidEnumValues(this._def.values),c=this._getOrReturnCtx(a);if(c.parsedType!==E.string&&c.parsedType!==E.number){let a=j.objectValues(b);return K(c,{expected:j.joinValues(a),received:c.parsedType,code:G.invalid_type}),M}if(this._cache||(this._cache=new Set(j.getValidEnumValues(this._def.values))),!this._cache.has(a.data)){let a=j.objectValues(b);return K(c,{received:c.data,code:G.invalid_enum_value,options:a}),M}return O(a.data)}get enum(){return this._def.values}}aK.create=(a,b)=>new aK({values:a,typeName:m.ZodNativeEnum,...S(b)});class aL extends T{unwrap(){return this._def.type}_parse(a){let{ctx:b}=this._processInputParams(a);return b.parsedType!==E.promise&&!1===b.common.async?(K(b,{code:G.invalid_type,expected:E.promise,received:b.parsedType}),M):O((b.parsedType===E.promise?b.data:Promise.resolve(b.data)).then(a=>this._def.type.parseAsync(a,{path:b.path,errorMap:b.common.contextualErrorMap})))}}aL.create=(a,b)=>new aL({type:a,typeName:m.ZodPromise,...S(b)});class aM extends T{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===m.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(a){let{status:b,ctx:c}=this._processInputParams(a),d=this._def.effect||null,e={addIssue:a=>{K(c,a),a.fatal?b.abort():b.dirty()},get path(){return c.path}};if(e.addIssue=e.addIssue.bind(e),"preprocess"===d.type){let a=d.transform(c.data,e);if(c.common.async)return Promise.resolve(a).then(async a=>{if("aborted"===b.value)return M;let d=await this._def.schema._parseAsync({data:a,path:c.path,parent:c});return"aborted"===d.status?M:"dirty"===d.status||"dirty"===b.value?N(d.value):d});{if("aborted"===b.value)return M;let d=this._def.schema._parseSync({data:a,path:c.path,parent:c});return"aborted"===d.status?M:"dirty"===d.status||"dirty"===b.value?N(d.value):d}}if("refinement"===d.type){let a=a=>{let b=d.refinement(a,e);if(c.common.async)return Promise.resolve(b);if(b instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(!1!==c.common.async)return this._def.schema._parseAsync({data:c.data,path:c.path,parent:c}).then(c=>"aborted"===c.status?M:("dirty"===c.status&&b.dirty(),a(c.value).then(()=>({status:b.value,value:c.value}))));{let d=this._def.schema._parseSync({data:c.data,path:c.path,parent:c});return"aborted"===d.status?M:("dirty"===d.status&&b.dirty(),a(d.value),{status:b.value,value:d.value})}}if("transform"===d.type)if(!1!==c.common.async)return this._def.schema._parseAsync({data:c.data,path:c.path,parent:c}).then(a=>"valid"!==a.status?M:Promise.resolve(d.transform(a.value,e)).then(a=>({status:b.value,value:a})));else{let a=this._def.schema._parseSync({data:c.data,path:c.path,parent:c});if("valid"!==a.status)return M;let f=d.transform(a.value,e);if(f instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:b.value,value:f}}j.assertNever(d)}}aM.create=(a,b,c)=>new aM({schema:a,typeName:m.ZodEffects,effect:b,...S(c)}),aM.createWithPreprocess=(a,b,c)=>new aM({schema:b,effect:{type:"preprocess",transform:a},typeName:m.ZodEffects,...S(c)});class aN extends T{_parse(a){return this._getType(a)===E.undefined?O(void 0):this._def.innerType._parse(a)}unwrap(){return this._def.innerType}}aN.create=(a,b)=>new aN({innerType:a,typeName:m.ZodOptional,...S(b)});class aO extends T{_parse(a){return this._getType(a)===E.null?O(null):this._def.innerType._parse(a)}unwrap(){return this._def.innerType}}aO.create=(a,b)=>new aO({innerType:a,typeName:m.ZodNullable,...S(b)});class aP extends T{_parse(a){let{ctx:b}=this._processInputParams(a),c=b.data;return b.parsedType===E.undefined&&(c=this._def.defaultValue()),this._def.innerType._parse({data:c,path:b.path,parent:b})}removeDefault(){return this._def.innerType}}aP.create=(a,b)=>new aP({innerType:a,typeName:m.ZodDefault,defaultValue:"function"==typeof b.default?b.default:()=>b.default,...S(b)});class aQ extends T{_parse(a){let{ctx:b}=this._processInputParams(a),c={...b,common:{...b.common,issues:[]}},d=this._def.innerType._parse({data:c.data,path:c.path,parent:{...c}});return P(d)?d.then(a=>({status:"valid",value:"valid"===a.status?a.value:this._def.catchValue({get error(){return new H(c.common.issues)},input:c.data})})):{status:"valid",value:"valid"===d.status?d.value:this._def.catchValue({get error(){return new H(c.common.issues)},input:c.data})}}removeCatch(){return this._def.innerType}}aQ.create=(a,b)=>new aQ({innerType:a,typeName:m.ZodCatch,catchValue:"function"==typeof b.catch?b.catch:()=>b.catch,...S(b)});class aR extends T{_parse(a){if(this._getType(a)!==E.nan){let b=this._getOrReturnCtx(a);return K(b,{code:G.invalid_type,expected:E.nan,received:b.parsedType}),M}return{status:"valid",value:a.data}}}aR.create=a=>new aR({typeName:m.ZodNaN,...S(a)}),Symbol("zod_brand");class aS extends T{_parse(a){let{ctx:b}=this._processInputParams(a),c=b.data;return this._def.type._parse({data:c,path:b.path,parent:b})}unwrap(){return this._def.type}}class aT extends T{_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.common.async)return(async()=>{let a=await this._def.in._parseAsync({data:c.data,path:c.path,parent:c});return"aborted"===a.status?M:"dirty"===a.status?(b.dirty(),N(a.value)):this._def.out._parseAsync({data:a.value,path:c.path,parent:c})})();{let a=this._def.in._parseSync({data:c.data,path:c.path,parent:c});return"aborted"===a.status?M:"dirty"===a.status?(b.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:c.path,parent:c})}}static create(a,b){return new aT({in:a,out:b,typeName:m.ZodPipeline})}}class aU extends T{_parse(a){let b=this._def.innerType._parse(a),c=a=>("valid"===a.status&&(a.value=Object.freeze(a.value)),a);return P(b)?b.then(a=>c(a)):c(b)}unwrap(){return this._def.innerType}}function aV(a){if("openAi"!==a.target)return{};let b=[...a.basePath,a.definitionPath,a.openAiAnyTypeName];return a.flags.hasReferencedOpenAiAnyType=!0,{$ref:"relative"===a.$refStrategy?D(b,a.currentPath):b.join("/")}}function aW(a,b){return bf(a.type._def,b)}aU.create=(a,b)=>new aU({innerType:a,typeName:m.ZodReadonly,...S(b)}),aw.lazycreate,(g=m||(m={})).ZodString="ZodString",g.ZodNumber="ZodNumber",g.ZodNaN="ZodNaN",g.ZodBigInt="ZodBigInt",g.ZodBoolean="ZodBoolean",g.ZodDate="ZodDate",g.ZodSymbol="ZodSymbol",g.ZodUndefined="ZodUndefined",g.ZodNull="ZodNull",g.ZodAny="ZodAny",g.ZodUnknown="ZodUnknown",g.ZodNever="ZodNever",g.ZodVoid="ZodVoid",g.ZodArray="ZodArray",g.ZodObject="ZodObject",g.ZodUnion="ZodUnion",g.ZodDiscriminatedUnion="ZodDiscriminatedUnion",g.ZodIntersection="ZodIntersection",g.ZodTuple="ZodTuple",g.ZodRecord="ZodRecord",g.ZodMap="ZodMap",g.ZodSet="ZodSet",g.ZodFunction="ZodFunction",g.ZodLazy="ZodLazy",g.ZodLiteral="ZodLiteral",g.ZodEnum="ZodEnum",g.ZodEffects="ZodEffects",g.ZodNativeEnum="ZodNativeEnum",g.ZodOptional="ZodOptional",g.ZodNullable="ZodNullable",g.ZodDefault="ZodDefault",g.ZodCatch="ZodCatch",g.ZodPromise="ZodPromise",g.ZodBranded="ZodBranded",g.ZodPipeline="ZodPipeline",g.ZodReadonly="ZodReadonly",aj.create,ak.create,aR.create,al.create,am.create,an.create,ao.create,ap.create,aq.create,ar.create,as.create,at.create,au.create,av.create,aw.create,aw.strictCreate,ax.create,az.create,aA.create,aB.create,aC.create,aD.create,aE.create,aF.create,aG.create,aH.create,aJ.create,aK.create,aL.create,aM.create,aN.create,aO.create,aM.createWithPreprocess,aT.create;let aX=/^[cC][^\s-]{8,}$/,aY=/^[0-9a-z]+$/,aZ=/^[0-9A-HJKMNP-TV-Z]{26}$/,a$=/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,a_=()=>(void 0===c&&(c=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),c),a0=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,a1=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,a2=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,a3=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,a4=/^[a-zA-Z0-9_-]{21}$/,a5=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/;function a6(a,b){let c={type:"string"};if(a.checks)for(let d of a.checks)switch(d.kind){case"min":C(c,"minLength","number"==typeof c.minLength?Math.max(c.minLength,d.value):d.value,d.message,b);break;case"max":C(c,"maxLength","number"==typeof c.maxLength?Math.min(c.maxLength,d.value):d.value,d.message,b);break;case"email":switch(b.emailStrategy){case"format:email":a9(c,"email",d.message,b);break;case"format:idn-email":a9(c,"idn-email",d.message,b);break;case"pattern:zod":ba(c,a$,d.message,b)}break;case"url":a9(c,"uri",d.message,b);break;case"uuid":a9(c,"uuid",d.message,b);break;case"regex":ba(c,d.regex,d.message,b);break;case"cuid":ba(c,aX,d.message,b);break;case"cuid2":ba(c,aY,d.message,b);break;case"startsWith":ba(c,RegExp(`^${a7(d.value,b)}`),d.message,b);break;case"endsWith":ba(c,RegExp(`${a7(d.value,b)}$`),d.message,b);break;case"datetime":a9(c,"date-time",d.message,b);break;case"date":a9(c,"date",d.message,b);break;case"time":a9(c,"time",d.message,b);break;case"duration":a9(c,"duration",d.message,b);break;case"length":C(c,"minLength","number"==typeof c.minLength?Math.max(c.minLength,d.value):d.value,d.message,b),C(c,"maxLength","number"==typeof c.maxLength?Math.min(c.maxLength,d.value):d.value,d.message,b);break;case"includes":ba(c,RegExp(a7(d.value,b)),d.message,b);break;case"ip":"v6"!==d.version&&a9(c,"ipv4",d.message,b),"v4"!==d.version&&a9(c,"ipv6",d.message,b);break;case"base64url":ba(c,a3,d.message,b);break;case"jwt":ba(c,a5,d.message,b);break;case"cidr":"v6"!==d.version&&ba(c,a0,d.message,b),"v4"!==d.version&&ba(c,a1,d.message,b);break;case"emoji":ba(c,a_(),d.message,b);break;case"ulid":ba(c,aZ,d.message,b);break;case"base64":switch(b.base64Strategy){case"format:binary":a9(c,"binary",d.message,b);break;case"contentEncoding:base64":C(c,"contentEncoding","base64",d.message,b);break;case"pattern:zod":ba(c,a2,d.message,b)}break;case"nanoid":ba(c,a4,d.message,b)}return c}function a7(a,b){return"escape"===b.patternStrategy?function(a){let b="";for(let c=0;c<a.length;c++)a8.has(a[c])||(b+="\\"),b+=a[c];return b}(a):a}let a8=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function a9(a,b,c,d){a.format||a.anyOf?.some(a=>a.format)?(a.anyOf||(a.anyOf=[]),a.format&&(a.anyOf.push({format:a.format,...a.errorMessage&&d.errorMessages&&{errorMessage:{format:a.errorMessage.format}}}),delete a.format,a.errorMessage&&(delete a.errorMessage.format,0===Object.keys(a.errorMessage).length&&delete a.errorMessage)),a.anyOf.push({format:b,...c&&d.errorMessages&&{errorMessage:{format:c}}})):C(a,"format",b,c,d)}function ba(a,b,c,d){a.pattern||a.allOf?.some(a=>a.pattern)?(a.allOf||(a.allOf=[]),a.pattern&&(a.allOf.push({pattern:a.pattern,...a.errorMessage&&d.errorMessages&&{errorMessage:{pattern:a.errorMessage.pattern}}}),delete a.pattern,a.errorMessage&&(delete a.errorMessage.pattern,0===Object.keys(a.errorMessage).length&&delete a.errorMessage)),a.allOf.push({pattern:bb(b,d),...c&&d.errorMessages&&{errorMessage:{pattern:c}}})):C(a,"pattern",bb(b,d),c,d)}function bb(a,b){if(!b.applyRegexFlags||!a.flags)return a.source;let c={i:a.flags.includes("i"),m:a.flags.includes("m"),s:a.flags.includes("s")},d=c.i?a.source.toLowerCase():a.source,e="",f=!1,g=!1,h=!1;for(let a=0;a<d.length;a++){if(f){e+=d[a],f=!1;continue}if(c.i){if(g){if(d[a].match(/[a-z]/)){h?(e+=d[a],e+=`${d[a-2]}-${d[a]}`.toUpperCase(),h=!1):"-"===d[a+1]&&d[a+2]?.match(/[a-z]/)?(e+=d[a],h=!0):e+=`${d[a]}${d[a].toUpperCase()}`;continue}}else if(d[a].match(/[a-z]/)){e+=`[${d[a]}${d[a].toUpperCase()}]`;continue}}if(c.m){if("^"===d[a]){e+=`(^|(?<=[\r
]))`;continue}else if("$"===d[a]){e+=`($|(?=[\r
]))`;continue}}if(c.s&&"."===d[a]){e+=g?`${d[a]}\r
`:`[${d[a]}\r
]`;continue}e+=d[a],"\\"===d[a]?f=!0:g&&"]"===d[a]?g=!1:g||"["!==d[a]||(g=!0)}try{new RegExp(e)}catch{return console.warn(`Could not convert regex pattern at ${b.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),a.source}return e}function bc(a,b){if("openAi"===b.target&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),"openApi3"===b.target&&a.keyType?._def.typeName===m.ZodEnum)return{type:"object",required:a.keyType._def.values,properties:a.keyType._def.values.reduce((c,d)=>({...c,[d]:bf(a.valueType._def,{...b,currentPath:[...b.currentPath,"properties",d]})??aV(b)}),{}),additionalProperties:b.rejectedAdditionalProperties};let c={type:"object",additionalProperties:bf(a.valueType._def,{...b,currentPath:[...b.currentPath,"additionalProperties"]})??b.allowedAdditionalProperties};if("openApi3"===b.target)return c;if(a.keyType?._def.typeName===m.ZodString&&a.keyType._def.checks?.length){let{type:d,...e}=a6(a.keyType._def,b);return{...c,propertyNames:e}}if(a.keyType?._def.typeName===m.ZodEnum)return{...c,propertyNames:{enum:a.keyType._def.values}};if(a.keyType?._def.typeName===m.ZodBranded&&a.keyType._def.type._def.typeName===m.ZodString&&a.keyType._def.type._def.checks?.length){let{type:d,...e}=aW(a.keyType._def,b);return{...c,propertyNames:e}}return c}let bd={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"},be=(a,b)=>{let c=(a.options instanceof Map?Array.from(a.options.values()):a.options).map((a,c)=>bf(a._def,{...b,currentPath:[...b.currentPath,"anyOf",`${c}`]})).filter(a=>!!a&&(!b.strictUnions||"object"==typeof a&&Object.keys(a).length>0));return c.length?{anyOf:c}:void 0};function bf(a,b,c=!1){let d=b.seen.get(a);if(b.override){let e=b.override?.(a,b,d,c);if(e!==A)return e}if(d&&!c){let a=bg(d,b);if(void 0!==a)return a}let e={def:a,path:b.currentPath,jsonSchema:void 0};b.seen.set(a,e);let f=((a,b,c)=>{switch(b){case m.ZodString:return a6(a,c);case m.ZodNumber:let d={type:"number"};if(!a.checks)return d;for(let b of a.checks)switch(b.kind){case"int":d.type="integer",B(d,"type",b.message,c);break;case"min":"jsonSchema7"===c.target?b.inclusive?C(d,"minimum",b.value,b.message,c):C(d,"exclusiveMinimum",b.value,b.message,c):(b.inclusive||(d.exclusiveMinimum=!0),C(d,"minimum",b.value,b.message,c));break;case"max":"jsonSchema7"===c.target?b.inclusive?C(d,"maximum",b.value,b.message,c):C(d,"exclusiveMaximum",b.value,b.message,c):(b.inclusive||(d.exclusiveMaximum=!0),C(d,"maximum",b.value,b.message,c));break;case"multipleOf":C(d,"multipleOf",b.value,b.message,c)}return d;case m.ZodObject:return function(a,b){let c="openAi"===b.target,d={type:"object",properties:{}},e=[],f=a.shape();for(let a in f){let g=f[a];if(void 0===g||void 0===g._def)continue;let h=function(a){try{return a.isOptional()}catch{return!0}}(g);h&&c&&("ZodOptional"===g._def.typeName&&(g=g._def.innerType),g.isNullable()||(g=g.nullable()),h=!1);let i=bf(g._def,{...b,currentPath:[...b.currentPath,"properties",a],propertyPath:[...b.currentPath,"properties",a]});void 0!==i&&(d.properties[a]=i,h||e.push(a))}e.length&&(d.required=e);let g=function(a,b){if("ZodNever"!==a.catchall._def.typeName)return bf(a.catchall._def,{...b,currentPath:[...b.currentPath,"additionalProperties"]});switch(a.unknownKeys){case"passthrough":return b.allowedAdditionalProperties;case"strict":return b.rejectedAdditionalProperties;case"strip":return"strict"===b.removeAdditionalStrategy?b.allowedAdditionalProperties:b.rejectedAdditionalProperties}}(a,b);return void 0!==g&&(d.additionalProperties=g),d}(a,c);case m.ZodBigInt:let e={type:"integer",format:"int64"};if(!a.checks)return e;for(let b of a.checks)switch(b.kind){case"min":"jsonSchema7"===c.target?b.inclusive?C(e,"minimum",b.value,b.message,c):C(e,"exclusiveMinimum",b.value,b.message,c):(b.inclusive||(e.exclusiveMinimum=!0),C(e,"minimum",b.value,b.message,c));break;case"max":"jsonSchema7"===c.target?b.inclusive?C(e,"maximum",b.value,b.message,c):C(e,"exclusiveMaximum",b.value,b.message,c):(b.inclusive||(e.exclusiveMaximum=!0),C(e,"maximum",b.value,b.message,c));break;case"multipleOf":C(e,"multipleOf",b.value,b.message,c)}return e;case m.ZodBoolean:return{type:"boolean"};case m.ZodDate:return function a(b,c,d){let e=d??c.dateStrategy;if(Array.isArray(e))return{anyOf:e.map((d,e)=>a(b,c,d))};switch(e){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":var f=b,g=c;let h={type:"integer",format:"unix-time"};if("openApi3"===g.target)return h;for(let a of f.checks)switch(a.kind){case"min":C(h,"minimum",a.value,a.message,g);break;case"max":C(h,"maximum",a.value,a.message,g)}return h}}(a,c);case m.ZodUndefined:return{not:aV(c)};case m.ZodNull:return"openApi3"===c.target?{enum:["null"],nullable:!0}:{type:"null"};case m.ZodArray:let f;return f={type:"array"},a.type?._def&&a.type?._def?.typeName!==m.ZodAny&&(f.items=bf(a.type._def,{...c,currentPath:[...c.currentPath,"items"]})),a.minLength&&C(f,"minItems",a.minLength.value,a.minLength.message,c),a.maxLength&&C(f,"maxItems",a.maxLength.value,a.maxLength.message,c),a.exactLength&&(C(f,"minItems",a.exactLength.value,a.exactLength.message,c),C(f,"maxItems",a.exactLength.value,a.exactLength.message,c)),f;case m.ZodUnion:case m.ZodDiscriminatedUnion:if("openApi3"===c.target)return be(a,c);let g=a.options instanceof Map?Array.from(a.options.values()):a.options;if(g.every(a=>a._def.typeName in bd&&(!a._def.checks||!a._def.checks.length))){let a=g.reduce((a,b)=>{let c=bd[b._def.typeName];return c&&!a.includes(c)?[...a,c]:a},[]);return{type:a.length>1?a:a[0]}}if(g.every(a=>"ZodLiteral"===a._def.typeName&&!a.description)){let a=g.reduce((a,b)=>{let c=typeof b._def.value;switch(c){case"string":case"number":case"boolean":return[...a,c];case"bigint":return[...a,"integer"];case"object":if(null===b._def.value)return[...a,"null"];default:return a}},[]);if(a.length===g.length){let b=a.filter((a,b,c)=>c.indexOf(a)===b);return{type:b.length>1?b:b[0],enum:g.reduce((a,b)=>a.includes(b._def.value)?a:[...a,b._def.value],[])}}}else if(g.every(a=>"ZodEnum"===a._def.typeName))return{type:"string",enum:g.reduce((a,b)=>[...a,...b._def.values.filter(b=>!a.includes(b))],[])};return be(a,c);case m.ZodIntersection:let h,i,j;return h=[bf(a.left._def,{...c,currentPath:[...c.currentPath,"allOf","0"]}),bf(a.right._def,{...c,currentPath:[...c.currentPath,"allOf","1"]})].filter(a=>!!a),i="jsonSchema2019-09"===c.target?{unevaluatedProperties:!1}:void 0,j=[],h.forEach(a=>{if((!("type"in a)||"string"!==a.type)&&"allOf"in a)j.push(...a.allOf),void 0===a.unevaluatedProperties&&(i=void 0);else{let b=a;if("additionalProperties"in a&&!1===a.additionalProperties){let{additionalProperties:c,...d}=a;b=d}else i=void 0;j.push(b)}}),j.length?{allOf:j,...i}:void 0;case m.ZodTuple:return a.rest?{type:"array",minItems:a.items.length,items:a.items.map((a,b)=>bf(a._def,{...c,currentPath:[...c.currentPath,"items",`${b}`]})).reduce((a,b)=>void 0===b?a:[...a,b],[]),additionalItems:bf(a.rest._def,{...c,currentPath:[...c.currentPath,"additionalItems"]})}:{type:"array",minItems:a.items.length,maxItems:a.items.length,items:a.items.map((a,b)=>bf(a._def,{...c,currentPath:[...c.currentPath,"items",`${b}`]})).reduce((a,b)=>void 0===b?a:[...a,b],[])};case m.ZodRecord:return bc(a,c);case m.ZodLiteral:let k;return"bigint"!=(k=typeof a.value)&&"number"!==k&&"boolean"!==k&&"string"!==k?{type:Array.isArray(a.value)?"array":"object"}:"openApi3"===c.target?{type:"bigint"===k?"integer":k,enum:[a.value]}:{type:"bigint"===k?"integer":k,const:a.value};case m.ZodEnum:return{type:"string",enum:Array.from(a.values)};case m.ZodNativeEnum:let l,n,o;return l=a.values,{type:1===(o=Array.from(new Set((n=Object.keys(a.values).filter(a=>"number"!=typeof l[l[a]]).map(a=>l[a])).map(a=>typeof a)))).length?"string"===o[0]?"string":"number":["string","number"],enum:n};case m.ZodNullable:if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(a.innerType._def.typeName)&&(!a.innerType._def.checks||!a.innerType._def.checks.length))return"openApi3"===c.target?{type:bd[a.innerType._def.typeName],nullable:!0}:{type:[bd[a.innerType._def.typeName],"null"]};if("openApi3"===c.target){let b=bf(a.innerType._def,{...c,currentPath:[...c.currentPath]});return b&&"$ref"in b?{allOf:[b],nullable:!0}:b&&{...b,nullable:!0}}let p=bf(a.innerType._def,{...c,currentPath:[...c.currentPath,"anyOf","0"]});return p&&{anyOf:[p,{type:"null"}]};case m.ZodOptional:if(c.currentPath.toString()===c.propertyPath?.toString())return bf(a.innerType._def,c);let q=bf(a.innerType._def,{...c,currentPath:[...c.currentPath,"anyOf","1"]});return q?{anyOf:[{not:aV(c)},q]}:aV(c);case m.ZodMap:if("record"===c.mapStrategy)return bc(a,c);return{type:"array",maxItems:125,items:{type:"array",items:[bf(a.keyType._def,{...c,currentPath:[...c.currentPath,"items","items","0"]})||aV(c),bf(a.valueType._def,{...c,currentPath:[...c.currentPath,"items","items","1"]})||aV(c)],minItems:2,maxItems:2}};case m.ZodSet:let r;return r={type:"array",uniqueItems:!0,items:bf(a.valueType._def,{...c,currentPath:[...c.currentPath,"items"]})},a.minSize&&C(r,"minItems",a.minSize.value,a.minSize.message,c),a.maxSize&&C(r,"maxItems",a.maxSize.value,a.maxSize.message,c),r;case m.ZodLazy:return()=>a.getter()._def;case m.ZodPromise:return bf(a.type._def,c);case m.ZodNaN:case m.ZodNever:return"openAi"===c.target?void 0:{not:aV({...c,currentPath:[...c.currentPath,"not"]})};case m.ZodEffects:return"input"===c.effectStrategy?bf(a.schema._def,c):aV(c);case m.ZodAny:case m.ZodUnknown:return aV(c);case m.ZodDefault:return{...bf(a.innerType._def,c),default:a.defaultValue()};case m.ZodBranded:return aW(a,c);case m.ZodReadonly:case m.ZodCatch:return bf(a.innerType._def,c);case m.ZodPipeline:if("input"===c.pipeStrategy)return bf(a.in._def,c);if("output"===c.pipeStrategy)return bf(a.out._def,c);let s=bf(a.in._def,{...c,currentPath:[...c.currentPath,"allOf","0"]}),t=bf(a.out._def,{...c,currentPath:[...c.currentPath,"allOf",s?"1":"0"]});return{allOf:[s,t].filter(a=>void 0!==a)};case m.ZodFunction:case m.ZodVoid:case m.ZodSymbol:default:return}})(a,a.typeName,b),g="function"==typeof f?bf(f(),b):f;if(g&&bh(a,b,g),b.postProcess){let c=b.postProcess(g,a,b);return e.jsonSchema=g,c}return e.jsonSchema=g,g}let bg=(a,b)=>{switch(b.$refStrategy){case"root":return{$ref:a.path.join("/")};case"relative":return{$ref:D(b.currentPath,a.path)};case"none":case"seen":if(a.path.length<b.currentPath.length&&a.path.every((a,c)=>b.currentPath[c]===a))return console.warn(`Recursive reference detected at ${b.currentPath.join("/")}! Defaulting to any`),aV(b);return"seen"===b.$refStrategy?aV(b):void 0}},bh=(a,b,c)=>(a.description&&(c.description=a.description,b.markdownDescription&&(c.markdownDescription=a.description)),c);var bi={code:"0",name:"text",parse:a=>{if("string"!=typeof a)throw Error('"text" parts expect a string value.');return{type:"text",value:a}}},bj={code:"1",name:"function_call",parse:a=>{if(null==a||"object"!=typeof a||!("function_call"in a)||"object"!=typeof a.function_call||null==a.function_call||!("name"in a.function_call)||!("arguments"in a.function_call)||"string"!=typeof a.function_call.name||"string"!=typeof a.function_call.arguments)throw Error('"function_call" parts expect an object with a "function_call" property.');return{type:"function_call",value:a}}},bk={code:"2",name:"data",parse:a=>{if(!Array.isArray(a))throw Error('"data" parts expect an array value.');return{type:"data",value:a}}},bl={code:"3",name:"error",parse:a=>{if("string"!=typeof a)throw Error('"error" parts expect a string value.');return{type:"error",value:a}}},bm={code:"4",name:"assistant_message",parse:a=>{if(null==a||"object"!=typeof a||!("id"in a)||!("role"in a)||!("content"in a)||"string"!=typeof a.id||"string"!=typeof a.role||"assistant"!==a.role||!Array.isArray(a.content)||!a.content.every(a=>null!=a&&"object"==typeof a&&"type"in a&&"text"===a.type&&"text"in a&&null!=a.text&&"object"==typeof a.text&&"value"in a.text&&"string"==typeof a.text.value))throw Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:a}}},bn={code:"5",name:"assistant_control_data",parse:a=>{if(null==a||"object"!=typeof a||!("threadId"in a)||!("messageId"in a)||"string"!=typeof a.threadId||"string"!=typeof a.messageId)throw Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:a.threadId,messageId:a.messageId}}}},bo={code:"6",name:"data_message",parse:a=>{if(null==a||"object"!=typeof a||!("role"in a)||!("data"in a)||"string"!=typeof a.role||"data"!==a.role)throw Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:a}}},bp={code:"7",name:"tool_calls",parse:a=>{if(null==a||"object"!=typeof a||!("tool_calls"in a)||"object"!=typeof a.tool_calls||null==a.tool_calls||!Array.isArray(a.tool_calls)||a.tool_calls.some(a=>null==a||"object"!=typeof a||!("id"in a)||"string"!=typeof a.id||!("type"in a)||"string"!=typeof a.type||!("function"in a)||null==a.function||"object"!=typeof a.function||!("arguments"in a.function)||"string"!=typeof a.function.name||"string"!=typeof a.function.arguments))throw Error('"tool_calls" parts expect an object with a ToolCallPayload.');return{type:"tool_calls",value:a}}},bq={code:"8",name:"message_annotations",parse:a=>{if(!Array.isArray(a))throw Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:a}}},br={code:"9",name:"tool_call",parse:a=>{if(null==a||"object"!=typeof a||!("toolCallId"in a)||"string"!=typeof a.toolCallId||!("toolName"in a)||"string"!=typeof a.toolName||!("args"in a)||"object"!=typeof a.args)throw Error('"tool_call" parts expect an object with a "toolCallId", "toolName", and "args" property.');return{type:"tool_call",value:a}}},bs={code:"a",name:"tool_result",parse:a=>{if(null==a||"object"!=typeof a||!("toolCallId"in a)||"string"!=typeof a.toolCallId||!("result"in a))throw Error('"tool_result" parts expect an object with a "toolCallId" and a "result" property.');return{type:"tool_result",value:a}}},bt={code:"b",name:"tool_call_streaming_start",parse:a=>{if(null==a||"object"!=typeof a||!("toolCallId"in a)||"string"!=typeof a.toolCallId||!("toolName"in a)||"string"!=typeof a.toolName)throw Error('"tool_call_streaming_start" parts expect an object with a "toolCallId" and "toolName" property.');return{type:"tool_call_streaming_start",value:a}}},bu={code:"c",name:"tool_call_delta",parse:a=>{if(null==a||"object"!=typeof a||!("toolCallId"in a)||"string"!=typeof a.toolCallId||!("argsTextDelta"in a)||"string"!=typeof a.argsTextDelta)throw Error('"tool_call_delta" parts expect an object with a "toolCallId" and "argsTextDelta" property.');return{type:"tool_call_delta",value:a}}},bv={code:"d",name:"finish_message",parse:a=>{if(null==a||"object"!=typeof a||!("finishReason"in a)||"string"!=typeof a.finishReason)throw Error('"finish_message" parts expect an object with a "finishReason" property.');let b={finishReason:a.finishReason};return"usage"in a&&null!=a.usage&&"object"==typeof a.usage&&"promptTokens"in a.usage&&"completionTokens"in a.usage&&(b.usage={promptTokens:"number"==typeof a.usage.promptTokens?a.usage.promptTokens:NaN,completionTokens:"number"==typeof a.usage.completionTokens?a.usage.completionTokens:NaN}),{type:"finish_message",value:b}}},bw={code:"e",name:"finish_step",parse:a=>{if(null==a||"object"!=typeof a||!("finishReason"in a)||"string"!=typeof a.finishReason)throw Error('"finish_step" parts expect an object with a "finishReason" property.');let b={finishReason:a.finishReason,isContinued:!1};return"usage"in a&&null!=a.usage&&"object"==typeof a.usage&&"promptTokens"in a.usage&&"completionTokens"in a.usage&&(b.usage={promptTokens:"number"==typeof a.usage.promptTokens?a.usage.promptTokens:NaN,completionTokens:"number"==typeof a.usage.completionTokens?a.usage.completionTokens:NaN}),"isContinued"in a&&"boolean"==typeof a.isContinued&&(b.isContinued=a.isContinued),{type:"finish_step",value:b}}},bx=[bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw],by={[bi.code]:bi,[bj.code]:bj,[bk.code]:bk,[bl.code]:bl,[bm.code]:bm,[bn.code]:bn,[bo.code]:bo,[bp.code]:bp,[bq.code]:bq,[br.code]:br,[bs.code]:bs,[bt.code]:bt,[bu.code]:bu,[bv.code]:bv,[bw.code]:bw};bi.name,bi.code,bj.name,bj.code,bk.name,bk.code,bl.name,bl.code,bm.name,bm.code,bn.name,bn.code,bo.name,bo.code,bp.name,bp.code,bq.name,bq.code,br.name,br.code,bs.name,bs.code,bt.name,bt.code,bu.name,bu.code,bv.name,bv.code,bw.name,bw.code;var bz=bx.map(a=>a.code),bA=a=>{let b=a.indexOf(":");if(-1===b)throw Error("Failed to parse stream string. No separator found.");let c=a.slice(0,b);if(!bz.includes(c))throw Error(`Failed to parse stream string. Invalid code ${c}.`);let d=JSON.parse(a.slice(b+1));return by[c].parse(d)};async function*bB(a,{isAborted:b}={}){let c=new TextDecoder,d=[],e=0;for(;;){let{value:f}=await a.read();if(f&&(d.push(f),e+=f.length,10!==f[f.length-1]))continue;if(0===d.length)break;let g=function(a,b){let c=new Uint8Array(b),d=0;for(let b of a)c.set(b,d),d+=b.length;return a.length=0,c}(d,e);for(let a of(e=0,c.decode(g,{stream:!0}).split("\n").filter(a=>""!==a).map(bA)))yield a;if(null==b?void 0:b()){a.cancel();break}}}function bC(a,b){return a&&b&&b.length?{...a,annotations:[...b]}:a}async function bD({reader:a,abortControllerRef:b,update:c,onToolCall:d,onFinish:e,generateId:f=x,getCurrentDate:g=()=>new Date}){var h;let i,j,k=g(),l={},m=[],n=[],o={},p={completionTokens:NaN,promptTokens:NaN,totalTokens:NaN},q="unknown";for await(let{type:e,value:g}of bB(a,{isAborted:()=>(null==b?void 0:b.current)===null})){if("error"===e)throw Error(g);if("finish_step"===e){g.isContinued||(i={});continue}if("finish_message"===e){if(q=g.finishReason,null!=g.usage){let{completionTokens:a,promptTokens:b}=g.usage;p={completionTokens:a,promptTokens:b,totalTokens:a+b}}continue}if(null!=i&&("text"===e||"tool_call"===e||"tool_call_streaming_start"===e||"tool_call_delta"===e||"tool_result"===e)&&(l.text&&m.push(l.text),l.function_call&&m.push(l.function_call),l.tool_calls&&m.push(l.tool_calls),l=i,i=void 0),"text"===e&&(l.text?l.text={...l.text,content:(l.text.content||"")+g}:l.text={id:f(),role:"assistant",content:g,createdAt:k}),"tool_call_streaming_start"===e)null==l.text&&(l.text={id:f(),role:"assistant",content:"",createdAt:k}),null==l.text.toolInvocations&&(l.text.toolInvocations=[]),o[g.toolCallId]={text:"",toolName:g.toolName,prefixMapIndex:l.text.toolInvocations.length},l.text.toolInvocations.push({state:"partial-call",toolCallId:g.toolCallId,toolName:g.toolName,args:void 0});else if("tool_call_delta"===e){let a=o[g.toolCallId];a.text+=g.argsTextDelta;let{value:b}=function(a){if(void 0===a)return{value:void 0,state:"undefined-input"};try{return{value:w.default.parse(a),state:"successful-parse"}}catch(b){try{return{value:w.default.parse(function(a){let b=["ROOT"],c=-1,d=null;function e(a,e,f){switch(a){case'"':c=e,b.pop(),b.push(f),b.push("INSIDE_STRING");break;case"f":case"t":case"n":c=e,d=e,b.pop(),b.push(f),b.push("INSIDE_LITERAL");break;case"-":b.pop(),b.push(f),b.push("INSIDE_NUMBER");break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":c=e,b.pop(),b.push(f),b.push("INSIDE_NUMBER");break;case"{":c=e,b.pop(),b.push(f),b.push("INSIDE_OBJECT_START");break;case"[":c=e,b.pop(),b.push(f),b.push("INSIDE_ARRAY_START")}}function f(a,d){switch(a){case",":b.pop(),b.push("INSIDE_OBJECT_AFTER_COMMA");break;case"}":c=d,b.pop()}}function g(a,d){switch(a){case",":b.pop(),b.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":c=d,b.pop()}}for(let h=0;h<a.length;h++){let i=a[h];switch(b[b.length-1]){case"ROOT":e(i,h,"FINISH");break;case"INSIDE_OBJECT_START":switch(i){case'"':b.pop(),b.push("INSIDE_OBJECT_KEY");break;case"}":c=h,b.pop()}break;case"INSIDE_OBJECT_AFTER_COMMA":'"'===i&&(b.pop(),b.push("INSIDE_OBJECT_KEY"));break;case"INSIDE_OBJECT_KEY":'"'===i&&(b.pop(),b.push("INSIDE_OBJECT_AFTER_KEY"));break;case"INSIDE_OBJECT_AFTER_KEY":":"===i&&(b.pop(),b.push("INSIDE_OBJECT_BEFORE_VALUE"));break;case"INSIDE_OBJECT_BEFORE_VALUE":e(i,h,"INSIDE_OBJECT_AFTER_VALUE");break;case"INSIDE_OBJECT_AFTER_VALUE":f(i,h);break;case"INSIDE_STRING":switch(i){case'"':b.pop(),c=h;break;case"\\":b.push("INSIDE_STRING_ESCAPE");break;default:c=h}break;case"INSIDE_ARRAY_START":"]"===i?(c=h,b.pop()):(c=h,e(i,h,"INSIDE_ARRAY_AFTER_VALUE"));break;case"INSIDE_ARRAY_AFTER_VALUE":switch(i){case",":b.pop(),b.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":c=h,b.pop();break;default:c=h}break;case"INSIDE_ARRAY_AFTER_COMMA":e(i,h,"INSIDE_ARRAY_AFTER_VALUE");break;case"INSIDE_STRING_ESCAPE":b.pop(),c=h;break;case"INSIDE_NUMBER":switch(i){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":c=h;break;case"e":case"E":case"-":case".":break;case",":b.pop(),"INSIDE_ARRAY_AFTER_VALUE"===b[b.length-1]&&g(i,h),"INSIDE_OBJECT_AFTER_VALUE"===b[b.length-1]&&f(i,h);break;case"}":b.pop(),"INSIDE_OBJECT_AFTER_VALUE"===b[b.length-1]&&f(i,h);break;case"]":b.pop(),"INSIDE_ARRAY_AFTER_VALUE"===b[b.length-1]&&g(i,h);break;default:b.pop()}break;case"INSIDE_LITERAL":{let e=a.substring(d,h+1);"false".startsWith(e)||"true".startsWith(e)||"null".startsWith(e)?c=h:(b.pop(),"INSIDE_OBJECT_AFTER_VALUE"===b[b.length-1]?f(i,h):"INSIDE_ARRAY_AFTER_VALUE"===b[b.length-1]&&g(i,h))}}}let h=a.slice(0,c+1);for(let c=b.length-1;c>=0;c--)switch(b[c]){case"INSIDE_STRING":h+='"';break;case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":h+="}";break;case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":h+="]";break;case"INSIDE_LITERAL":{let b=a.substring(d,a.length);"true".startsWith(b)?h+="true".slice(b.length):"false".startsWith(b)?h+="false".slice(b.length):"null".startsWith(b)&&(h+="null".slice(b.length))}}return h}(a)),state:"repaired-parse"}}catch(a){}}return{value:void 0,state:"failed-parse"}}(a.text);l.text.toolInvocations[a.prefixMapIndex]={state:"partial-call",toolCallId:g.toolCallId,toolName:a.toolName,args:b},l.text.internalUpdateId=f()}else if("tool_call"===e){if(null!=o[g.toolCallId]?l.text.toolInvocations[o[g.toolCallId].prefixMapIndex]={state:"call",...g}:(null==l.text&&(l.text={id:f(),role:"assistant",content:"",createdAt:k}),null==l.text.toolInvocations&&(l.text.toolInvocations=[]),l.text.toolInvocations.push({state:"call",...g})),l.text.internalUpdateId=f(),d){let a=await d({toolCall:g});null!=a&&(l.text.toolInvocations[l.text.toolInvocations.length-1]={state:"result",...g,result:a})}}else if("tool_result"===e){let a=null==(h=l.text)?void 0:h.toolInvocations;if(null==a)throw Error("tool_result must be preceded by a tool_call");let b=a.findIndex(a=>a.toolCallId===g.toolCallId);if(-1===b)throw Error("tool_result must be preceded by a tool_call with the same toolCallId");a[b]={...a[b],state:"result",...g}}let a=null;"function_call"===e&&(l.function_call={id:f(),role:"assistant",content:"",function_call:g.function_call,name:g.function_call.name,createdAt:k},a=l.function_call);let b=null;"tool_calls"===e&&(l.tool_calls={id:f(),role:"assistant",content:"",tool_calls:g.tool_calls,createdAt:k},b=l.tool_calls),"data"===e&&n.push(...g);let r=l.text;"message_annotations"===e&&(j?j.push(...g):j=[...g],a=bC(l.function_call,j),b=bC(l.tool_calls,j),r=bC(l.text,j),null!=l.text&&(l.text.internalUpdateId=f())),(null==j?void 0:j.length)&&(l.text&&(l.text.annotations=[...j]),l.function_call&&(l.function_call.annotations=[...j]),l.tool_calls&&(l.tool_calls.annotations=[...j])),c([...m,...[a,b,r].filter(Boolean).map(a=>({...bC(a,j)}))],[...n])}return null==e||e({message:l.text,finishReason:q,usage:p}),{messages:[l.text,l.function_call,l.tool_calls].filter(Boolean),data:n}}async function bE({api:a,body:b,streamProtocol:c="data",credentials:d,headers:e,abortController:f,restoreMessagesOnFailure:g,onResponse:h,onUpdate:i,onFinish:j,onToolCall:k,generateId:l,fetch:m=fetch}){var n,o;let p=await m(a,{method:"POST",body:JSON.stringify(b),headers:{"Content-Type":"application/json",...e},signal:null==(n=null==f?void 0:f())?void 0:n.signal,credentials:d}).catch(a=>{throw g(),a});if(h)try{await h(p)}catch(a){throw a}if(!p.ok)throw g(),Error(null!=(o=await p.text())?o:"Failed to fetch the chat response.");if(!p.body)throw Error("The response body is empty.");let q=p.body.getReader();switch(c){case"text":{let a,b=(a=new TextDecoder,function(b){return b?a.decode(b,{stream:!0}):""}),c={id:l(),createdAt:new Date,role:"assistant",content:""};for(;;){let{done:a,value:d}=await q.read();if(a)break;if(c.content+=b(d),i([{...c}],[]),(null==f?void 0:f())===null){q.cancel();break}}return null==j||j(c,{usage:{completionTokens:NaN,promptTokens:NaN,totalTokens:NaN},finishReason:"unknown"}),{messages:[c],data:[]}}case"data":return await bD({reader:q,abortControllerRef:null!=f?{current:f()}:void 0,update:i,onToolCall:k,onFinish({message:a,finishReason:b,usage:c}){j&&null!=a&&j(a,{usage:c,finishReason:b})},generateId:l});default:throw Error(`Unknown stream protocol: ${c}`)}}async function bF({getStreamedResponse:a,experimental_onFunctionCall:b,experimental_onToolCall:c,updateChatRequest:d,getCurrentMessages:e}){for(;;){let f=await a();if("messages"in f){let a=!1;for(let g of f.messages)if(void 0!==g.function_call&&"string"!=typeof g.function_call||void 0!==g.tool_calls&&"string"!=typeof g.tool_calls){if(a=!0,b){let c=g.function_call;if("object"!=typeof c){console.warn("experimental_onFunctionCall should not be defined when using tools");continue}let f=await b(e(),c);if(void 0===f){a=!1;break}d(f)}if(c){let b=g.tool_calls;if(!Array.isArray(b)||b.some(a=>"object"!=typeof a)){console.warn("experimental_onToolCall should not be defined when using tools");continue}let f=await c(e(),b);if(void 0===f){a=!1;break}d(f)}}if(!a)break}else{let a=function(a){for(let b of a.messages){if(void 0!==b.tool_calls)for(let a of b.tool_calls)"object"==typeof a&&a.function.arguments&&"string"!=typeof a.function.arguments&&(a.function.arguments=JSON.stringify(a.function.arguments));void 0!==b.function_call&&"object"==typeof b.function_call&&b.function_call.arguments&&"string"!=typeof b.function_call.arguments&&(b.function_call.arguments=JSON.stringify(b.function_call.arguments))}};if((void 0===f.function_call||"string"==typeof f.function_call)&&(void 0===f.tool_calls||"string"==typeof f.tool_calls))break;if(b){let c=f.function_call;if("object"!=typeof c){console.warn("experimental_onFunctionCall should not be defined when using tools");continue}let g=await b(e(),c);if(void 0===g)break;a(g),d(g)}if(c){let b=f.tool_calls;if("object"!=typeof b){console.warn("experimental_onToolCall should not be defined when using functions");continue}let g=await c(e(),b);if(void 0===g)break;a(g),d(g)}}}}Symbol.for("vercel.ai.schema");var bG=a.i(6028),bH=a.i(2309);a.s(["ERROR_REVALIDATE_EVENT",()=>3,"FOCUS_EVENT",()=>0,"MUTATE_EVENT",()=>2,"RECONNECT_EVENT",()=>1],5573);var bI=Object.prototype.hasOwnProperty;let bJ=new WeakMap,bK=()=>{},bL=bK(),bM=Object,bN=a=>a===bL,bO=(a,b)=>({...a,...b}),bP={},bQ={},bR="undefined",bS=typeof document!=bR,bT=!1,bU=(a,b)=>{let c=bJ.get(a);return[()=>!bN(b)&&a.get(b)||bP,d=>{if(!bN(b)){let e=a.get(b);b in bQ||(bQ[b]=e),c[5](b,bO(e,d),e||bP)}},c[6],()=>!bN(b)&&b in bQ?bQ[b]:!bN(b)&&a.get(b)||bP]},bV=!0,[bW,bX]=[bK,bK],bY={initFocus:a=>(bS&&document.addEventListener("visibilitychange",a),bW("focus",a),()=>{bS&&document.removeEventListener("visibilitychange",a),bX("focus",a)}),initReconnect:a=>{let b=()=>{bV=!0,a()},c=()=>{bV=!1};return bW("online",b),bW("offline",c),()=>{bX("online",b),bX("offline",c)}}},bZ=!bG.default.useId,b$=!0,b_=bG.useEffect,b0="u">typeof navigator&&navigator.connection;!b$&&b0&&(["slow-2g","2g"].includes(b0.effectiveType)||b0.saveData);let b1=new WeakMap,b2=(a,b)=>a===`[object ${b}]`,b3=0,b4=a=>{let b,c,d=typeof a,e=bM.prototype.toString.call(a),f=b2(e,"Date"),g=b2(e,"RegExp"),h=b2(e,"Object");if(bM(a)!==a||f||g)b=f?a.toJSON():"symbol"==d?a.toString():"string"==d?JSON.stringify(a):""+a;else{if(b=b1.get(a))return b;if(b=++b3+"~",b1.set(a,b),Array.isArray(a)){for(c=0,b="@";c<a.length;c++)b+=b4(a[c])+",";b1.set(a,b)}if(h){b="#";let d=bM.keys(a).sort();for(;!bN(c=d.pop());)bN(a[c])||(b+=c+":"+b4(a[c])+",");b1.set(a,b)}}return b},b5=a=>{if("function"==typeof a)try{a=a()}catch(b){a=""}let b=a;return[a="string"==typeof a?a:(Array.isArray(a)?a.length:a)?b4(a):"",b]},b6=0,b7=()=>++b6;async function b8(...a){let[b,c,d,e]=a,f=bO({populateCache:!0,throwOnError:!0},"boolean"==typeof e?{revalidate:e}:e||{}),g=f.populateCache,h=f.rollbackOnError,i=f.optimisticData,j=f.throwOnError;if("function"==typeof c){let a=[];for(let d of b.keys())!/^\$(inf|sub)\$/.test(d)&&c(b.get(d)._k)&&a.push(d);return Promise.all(a.map(k))}return k(c);async function k(c){let e,[k]=b5(c);if(!k)return;let[l,m]=bU(b,k),[n,o,p,q]=bJ.get(b),r=()=>{let a=n[k];return("function"==typeof f.revalidate?f.revalidate(l().data,c):!1!==f.revalidate)&&(delete p[k],delete q[k],a&&a[0])?a[0](2).then(()=>l().data):l().data};if(a.length<3)return r();let s=d,t=!1,u=b7();o[k]=[u,0];let v=!bN(i),w=l(),x=w.data,y=w._c,z=bN(y)?x:y;if(v&&m({data:i="function"==typeof i?i(z,x):i,_c:z}),"function"==typeof s)try{s=s(z)}catch(a){e=a,t=!0}if(s&&"function"==typeof s.then){let a;if(s=await s.catch(a=>{e=a,t=!0}),u!==o[k][0]){if(t)throw e;return s}t&&v&&(a=e,"function"==typeof h?h(a):!1!==h)&&(g=!0,m({data:z,_c:bL}))}if(g&&!t&&("function"==typeof g?m({data:g(s,z),error:bL,_c:bL}):m({data:s,error:bL,_c:bL})),o[k][1]=b7(),Promise.resolve(r()).then(()=>{m({_c:bL})}),t){if(j)throw e;return}return s}}let b9=(a,b)=>{if(!bJ.has(a)){bO(bY,b);let c=Object.create(null),d=b8.bind(bL,a),e=Object.create(null),f=(a,b)=>{let c=e[a]||[];return e[a]=c,c.push(b),()=>c.splice(c.indexOf(b),1)},g=(b,c,d)=>{a.set(b,c);let f=e[b];if(f)for(let a of f)a(c,d)},h=()=>{bJ.has(a)||bJ.set(a,[c,Object.create(null),Object.create(null),Object.create(null),d,g,f])};return h(),[a,d,h,bK]}return[a,bJ.get(a)[4]]},[ca,cb]=b9(new Map),cc=bO({onLoadingSlow:bK,onSuccess:bK,onError:bK,onErrorRetry:(a,b,c,d,e)=>{let f=c.errorRetryCount,g=e.retryCount,h=~~((Math.random()+.5)*(1<<(g<8?g:8)))*c.errorRetryInterval;(bN(f)||!(g>f))&&setTimeout(d,h,e)},onDiscarded:bK,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:3e3,compare:function a(b,c){var d,e;if(b===c)return!0;if(b&&c&&(d=b.constructor)===c.constructor){if(d===Date)return b.getTime()===c.getTime();if(d===RegExp)return b.toString()===c.toString();if(d===Array){if((e=b.length)===c.length)for(;e--&&a(b[e],c[e]););return -1===e}if(!d||"object"==typeof b){for(d in e=0,b)if(bI.call(b,d)&&++e&&!bI.call(c,d)||!(d in c)||!a(b[d],c[d]))return!1;return Object.keys(c).length===e}}return b!=b&&c!=c},isPaused:()=>!1,cache:ca,mutate:cb,fallback:{}},{isOnline:()=>bV,isVisible:()=>{let a=bS&&document.visibilityState;return bN(a)||"hidden"!==a}}),cd=(a,b)=>{let c=bO(a,b);if(b){let{use:d,fallback:e}=a,{use:f,fallback:g}=b;d&&f&&(c.use=d.concat(f)),e&&g&&(c.fallback=bO(e,g))}return c},ce=(0,bG.createContext)({});var cf=a.i(5573);let cg=!1,ch=(cg?window.__SWR_DEVTOOLS_USE__:[]).concat(a=>(b,c,d)=>{let e=c&&((...a)=>{let[d]=b5(b),[,,,e]=bJ.get(ca);if(d.startsWith("$inf$"))return c(...a);let f=e[d];return bN(f)?c(...a):(delete e[d],f)});return a(b,e,d)});cg&&(window.__SWR_DEVTOOLS_REACT__=bG.default);let ci=()=>{},cj=ci(),ck=(new WeakMap,bG.default.use||(a=>{switch(a.status){case"pending":throw a;case"fulfilled":return a.value;case"rejected":throw a.reason;default:throw a.status="pending",a.then(b=>{a.status="fulfilled",a.value=b},b=>{a.status="rejected",a.reason=b}),a}})),cl={dedupe:!0},cm=Promise.resolve(bL);bM.defineProperty(a=>{let{value:b}=a,c=(0,bG.useContext)(ce),d="function"==typeof b,e=(0,bG.useMemo)(()=>d?b(c):b,[d,c,b]),f=(0,bG.useMemo)(()=>d?e:cd(c,e),[d,c,e]),g=e&&e.provider,h=(0,bG.useRef)(bL);g&&!h.current&&(h.current=b9(g(f.cache||ca),e));let i=h.current;return i&&(f.cache=i[0],f.mutate=i[1]),b_(()=>{if(i)return i[2]&&i[2](),i[3]},[]),(0,bG.createElement)(ce.Provider,bO(a,{value:f}))},"defaultValue",{value:cc});let cn=(d=(a,b,c)=>{let{cache:d,compare:e,suspense:f,fallbackData:g,revalidateOnMount:h,revalidateIfStale:i,refreshInterval:j,refreshWhenHidden:k,refreshWhenOffline:l,keepPreviousData:m,strictServerPrefetchWarning:n}=c,[o,p,q,r]=bJ.get(d),[s,t]=b5(a),u=(0,bG.useRef)(!1),v=(0,bG.useRef)(!1),w=(0,bG.useRef)(s),x=(0,bG.useRef)(b),y=(0,bG.useRef)(c),z=()=>y.current.isVisible()&&y.current.isOnline(),[A,B,C,D]=bU(d,s),E=(0,bG.useRef)({}).current,F=bN(g)?bN(c.fallback)?bL:c.fallback[s]:g,G=(a,b)=>{for(let c in E)if("data"===c){if(!e(a[c],b[c])&&(!bN(a[c])||!e(P,b[c])))return!1}else if(b[c]!==a[c])return!1;return!0},H=(0,bG.useMemo)(()=>{let a=!!s&&!!b&&(bN(h)?!y.current.isPaused()&&!f&&!1!==i:h),c=b=>{let c=bO(b);return(delete c._k,a)?{isValidating:!0,isLoading:!0,...c}:c},d=A(),e=D(),g=c(d),j=d===e?g:c(e),k=g;return[()=>{let a=c(A());return G(a,k)?(k.data=a.data,k.isLoading=a.isLoading,k.isValidating=a.isValidating,k.error=a.error,k):(k=a,a)},()=>j]},[d,s]),I=(0,bH.useSyncExternalStore)((0,bG.useCallback)(a=>C(s,(b,c)=>{G(c,b)||a()}),[d,s]),H[0],H[1]),J=!u.current,K=o[s]&&o[s].length>0,L=I.data,M=bN(L)?F&&"function"==typeof F.then?ck(F):F:L,N=I.error,O=(0,bG.useRef)(M),P=m?bN(L)?bN(O.current)?M:O.current:L:M,Q=s&&bN(M),R=!b$&&(0,bH.useSyncExternalStore)(()=>bK,()=>!1,()=>!0);n&&R&&!f&&Q&&console.warn(`Missing pre-initiated data for serialized key "${s}" during server-side rendering. Data fethcing should be initiated on the server and provided to SWR via fallback data. You can set "strictServerPrefetchWarning: false" to disable this warning.`);let S=(!K||!!bN(N))&&(J&&!bN(h)?h:!y.current.isPaused()&&(f?!bN(M)&&i:bN(M)||i)),T=!!(s&&b&&J&&S),U=bN(I.isValidating)?T:I.isValidating,V=bN(I.isLoading)?T:I.isLoading,W=(0,bG.useCallback)(async a=>{let b,d,f=x.current;if(!s||!f||v.current||y.current.isPaused())return!1;let g=!0,h=a||{},i=!q[s]||!h.dedupe,j=()=>bZ?!v.current&&s===w.current&&u.current:s===w.current,k={isValidating:!1,isLoading:!1},l=()=>{B(k)},m=()=>{let a=q[s];a&&a[1]===d&&delete q[s]},n={isValidating:!0};bN(A().data)&&(n.isLoading=!0);try{if(i&&(B(n),c.loadingTimeout&&bN(A().data)&&setTimeout(()=>{g&&j()&&y.current.onLoadingSlow(s,c)},c.loadingTimeout),q[s]=[f(t),b7()]),[b,d]=q[s],b=await b,i&&setTimeout(m,c.dedupingInterval),!q[s]||q[s][1]!==d)return i&&j()&&y.current.onDiscarded(s),!1;k.error=bL;let a=p[s];if(!bN(a)&&(d<=a[0]||d<=a[1]||0===a[1]))return l(),i&&j()&&y.current.onDiscarded(s),!1;let h=A().data;k.data=e(h,b)?h:b,i&&j()&&y.current.onSuccess(b,s,c)}catch(c){m();let a=y.current,{shouldRetryOnError:b}=a;!a.isPaused()&&(k.error=c,i&&j())&&(a.onError(c,s,a),(!0===b||"function"==typeof b&&b(c))&&(!y.current.revalidateOnFocus||!y.current.revalidateOnReconnect||z())&&a.onErrorRetry(c,s,a,a=>{let b=o[s];b&&b[0]&&b[0](cf.ERROR_REVALIDATE_EVENT,a)},{retryCount:(h.retryCount||0)+1,dedupe:!0}))}return g=!1,l(),!0},[s,d]),X=(0,bG.useCallback)((...a)=>b8(d,w.current,...a),[]);if(b_(()=>{x.current=b,y.current=c,bN(L)||(O.current=L)}),b_(()=>{var a;let b;if(!s)return;let c=W.bind(bL,cl),d=0;y.current.revalidateOnFocus&&(d=Date.now()+y.current.focusThrottleInterval);let e=(a=(a,b={})=>{if(a==cf.FOCUS_EVENT){let a=Date.now();y.current.revalidateOnFocus&&a>d&&z()&&(d=a+y.current.focusThrottleInterval,c())}else if(a==cf.RECONNECT_EVENT)y.current.revalidateOnReconnect&&z()&&c();else if(a==cf.MUTATE_EVENT)return W();else if(a==cf.ERROR_REVALIDATE_EVENT)return W(b)},(b=o[s]||(o[s]=[])).push(a),()=>{let c=b.indexOf(a);c>=0&&(b[c]=b[b.length-1],b.pop())});if(v.current=!1,w.current=s,u.current=!0,B({_k:t}),S&&!q[s])if(bN(M)||b$)c();else setTimeout(c,1);return()=>{v.current=!0,e()}},[s]),b_(()=>{let a;function b(){let b="function"==typeof j?j(A().data):j;b&&-1!==a&&(a=setTimeout(c,b))}function c(){!A().error&&(k||y.current.isVisible())&&(l||y.current.isOnline())?W(cl).then(b):b()}return b(),()=>{a&&(clearTimeout(a),a=-1)}},[j,k,l,s]),(0,bG.useDebugValue)(P),f){if(!bZ&&b$&&Q)throw Error("Fallback data is required when using Suspense in SSR.");Q&&(x.current=b,y.current=c,v.current=!1);let a=r[s];if(ck(!bN(a)&&Q?X(a):cm),!bN(N)&&Q)throw N;let d=Q?W(cl):cm;!bN(P)&&Q&&(d.status="fulfilled",d.value=!0),ck(d)}return{mutate:X,get data(){return E.data=!0,P},get error(){return E.error=!0,N},get isValidating(){return E.isValidating=!0,U},get isLoading(){return E.isLoading=!0,V}}},function(...a){let b,c=(b=(0,bG.useContext)(ce),(0,bG.useMemo)(()=>bO(cc,b),[b])),[e,f,g]="function"==typeof a[1]?[a[0],a[1],a[2]||{}]:[a[0],null,(null===a[1]?a[2]:a[1])||{}],h=cd(c,g),i=d,{use:j}=h,k=(j||[]).concat(ch);for(let a=k.length;a--;)i=k[a](i);return i(e,f||h.fetcher||null,h)});var co=a.i(40399);function cp(a,b){return null!=b?(0,co.default)(a,b):a}var cq=async(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q)=>{var r;let s=g.current;c(b.messages,!1);let t=n?b.messages:b.messages.map(({role:a,content:b,experimental_attachments:c,name:d,data:e,annotations:f,toolInvocations:g,function_call:h,tool_calls:i,tool_call_id:j})=>({role:a,content:b,...void 0!==c&&{experimental_attachments:c},...void 0!==d&&{name:d},...void 0!==e&&{data:e},...void 0!==f&&{annotations:f},...void 0!==g&&{toolInvocations:g},tool_call_id:j,...void 0!==h&&{function_call:h},...void 0!==i&&{tool_calls:i}})),u=e.current;return await bE({api:a,body:null!=(r=null==o?void 0:o({messages:b.messages,requestData:b.data,requestBody:b.body}))?r:{messages:t,data:b.data,...f.current.body,...b.body,...void 0!==b.functions&&{functions:b.functions},...void 0!==b.function_call&&{function_call:b.function_call},...void 0!==b.tools&&{tools:b.tools},...void 0!==b.tool_choice&&{tool_choice:b.tool_choice}},streamProtocol:j,credentials:f.current.credentials,headers:{...f.current.headers,...b.headers},abortController:()=>h.current,restoreMessagesOnFailure(){q||c(s,!1)},onResponse:l,onUpdate(a,e){c([...b.messages,...a],!1),d([...null!=u?u:[],...null!=e?e:[]],!1)},onToolCall:m,onFinish:k,generateId:i,fetch:p})};function cr(a){return"assistant"===a.role&&a.toolInvocations&&a.toolInvocations.length>0&&a.toolInvocations.every(a=>"result"in a)}async function cs(a){if(null==a)return[];if(a instanceof FileList)return Promise.all(Array.from(a).map(async a=>{let{name:b,type:c}=a;return{name:b,contentType:c,url:await new Promise((b,c)=>{let d=new FileReader;d.onload=a=>{var c;b(null==(c=a.target)?void 0:c.result)},d.onerror=a=>c(a),d.readAsDataURL(a)})}}));if(Array.isArray(a))return a;throw Error("Invalid attachments type")}var ct=a.i(66680);let cu={randomUUID:ct.randomUUID},cv=new Uint8Array(256),cw=cv.length,cx=[];for(let a=0;a<256;++a)cx.push((a+256).toString(16).slice(1));let cy=function(a,b,c){if(cu.randomUUID&&!b&&!a)return cu.randomUUID();var d=a,e=c;let f=(d=d||{}).random??d.rng?.()??(cw>cv.length-16&&((0,ct.randomFillSync)(cv),cw=0),cv.slice(cw,cw+=16));if(f.length<16)throw Error("Random bytes length must be >= 16");if(f[6]=15&f[6]|64,f[8]=63&f[8]|128,b){if((e=e||0)<0||e+16>b.length)throw RangeError(`UUID byte range ${e}:${e+15} is out of buffer bounds`);for(let a=0;a<16;++a)b[e+a]=f[a];return b}return function(a,b=0){return(cx[a[b+0]]+cx[a[b+1]]+cx[a[b+2]]+cx[a[b+3]]+"-"+cx[a[b+4]]+cx[a[b+5]]+"-"+cx[a[b+6]]+cx[a[b+7]]+"-"+cx[a[b+8]]+cx[a[b+9]]+"-"+cx[a[b+10]]+cx[a[b+11]]+cx[a[b+12]]+cx[a[b+13]]+cx[a[b+14]]+cx[a[b+15]]).toLowerCase()}(f)},cz=a=>{let b=a.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,b,c)=>c?c.toUpperCase():b.toLowerCase());return b.charAt(0).toUpperCase()+b.slice(1)},cA=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var cB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let cC=(0,bG.forwardRef)(({color:a="currentColor",size:b=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:e="",children:f,iconNode:g,...h},i)=>(0,bG.createElement)("svg",{ref:i,...cB,width:b,height:b,stroke:a,strokeWidth:d?24*Number(c)/Number(b):c,className:cA("lucide",e),...!f&&!(a=>{for(let b in a)if(b.startsWith("aria-")||"role"===b||"title"===b)return!0})(h)&&{"aria-hidden":"true"},...h},[...g.map(([a,b])=>(0,bG.createElement)(a,b)),...Array.isArray(f)?f:[f]])),cD=(a,b)=>{let c=(0,bG.forwardRef)(({className:c,...d},e)=>(0,bG.createElement)(cC,{ref:e,iconNode:b,className:cA(`lucide-${cz(a).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${a}`,c),...d}));return c.displayName=cz(a),c},cE=cD("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),cF=cD("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var cG=a.i(60627);function cH({message:a="Thinking..."}){return(0,n.jsxs)("div",{className:"loading-container",children:[(0,n.jsxs)("div",{className:"loading-dots",children:[(0,n.jsx)("div",{className:"loading-dot",style:{animationDelay:"0ms"}}),(0,n.jsx)("div",{className:"loading-dot",style:{animationDelay:"150ms"}}),(0,n.jsx)("div",{className:"loading-dot",style:{animationDelay:"300ms"}})]}),(0,n.jsx)("span",{className:"loading-text",children:a})]})}function cI({role:a,children:b}){return(0,n.jsx)("div",{className:"user"===a?"chat-message-user":"chat-message-assistant",children:(0,n.jsx)("div",{className:"chat-message-content",children:"string"==typeof b?(0,n.jsx)("p",{className:"chat-message-text",children:b}):b})})}let cJ=cD("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),cK=cD("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);function cL({header:a,question:b,inputType:c="select",placeholder:d,options:e=[],allowMultiple:f=!1,onSelect:g,disabled:h=!1}){let[i,j]=(0,bG.useState)([]),[k,l]=(0,bG.useState)(""),[m,o]=(0,bG.useState)(!1),p=a=>{if(!h){if("other"===a)return void o(!0);f?j(b=>b.includes(a)?b.filter(b=>b!==a):[...b,a]):g([a])}},q=()=>{k.trim()&&g([k.trim()])};return"text"===c?(0,n.jsxs)("div",{className:"card question-card",children:[(0,n.jsx)("div",{className:"question-card-header",children:(0,n.jsx)("span",{className:"question-card-label",children:a})}),(0,n.jsx)("h3",{className:"question-card-title",children:b}),(0,n.jsxs)("div",{className:"question-card-text-input",children:[(0,n.jsx)("input",{type:"text",value:k,onChange:a=>l(a.target.value),placeholder:d||"Type your answer...",className:"input",autoFocus:!0,disabled:h,onKeyDown:a=>{"Enter"===a.key&&k.trim()&&q()}}),(0,n.jsxs)("button",{onClick:q,disabled:!k.trim()||h,className:"btn btn-primary",children:["Continue ",(0,n.jsx)(cK,{className:"icon-sm"})]})]})]}):(0,n.jsxs)("div",{className:"card question-card",children:[(0,n.jsx)("div",{className:"question-card-header",children:(0,n.jsx)("span",{className:"question-card-label",children:a})}),(0,n.jsx)("h3",{className:"question-card-title",children:b}),m?(0,n.jsxs)("div",{className:"question-card-other",children:[(0,n.jsx)("input",{type:"text",value:k,onChange:a=>l(a.target.value),placeholder:"Type your answer...",className:"input",autoFocus:!0,onKeyDown:a=>{"Enter"===a.key&&k.trim()&&q()}}),(0,n.jsxs)("div",{className:"question-card-actions",children:[(0,n.jsx)("button",{onClick:q,disabled:!k.trim(),className:"btn btn-primary",children:"Submit"}),(0,n.jsx)("button",{onClick:()=>o(!1),className:"btn btn-ghost",children:"Back"})]})]}):(0,n.jsxs)("div",{className:"question-card-options",children:[e.map(a=>(0,n.jsx)("button",{onClick:()=>p(a.id),disabled:h,className:`question-option ${i.includes(a.id)?"question-option-selected":""} ${h?"question-option-disabled":""}`,children:(0,n.jsxs)("div",{className:"question-option-content",children:[f&&(0,n.jsx)("div",{className:`question-checkbox ${i.includes(a.id)?"question-checkbox-checked":""}`,children:i.includes(a.id)&&(0,n.jsx)(cJ,{className:"icon-sm"})}),(0,n.jsxs)("div",{className:"question-option-text",children:[(0,n.jsx)("div",{className:"question-option-label",children:a.label}),a.description&&(0,n.jsx)("div",{className:"question-option-description",children:a.description})]})]})},a.id)),(0,n.jsxs)("button",{onClick:()=>p("other"),disabled:h,className:`question-option question-option-other ${h?"question-option-disabled":""}`,children:[(0,n.jsx)("div",{className:"question-option-label",children:"Other..."}),(0,n.jsx)("div",{className:"question-option-description",children:"Type a custom answer"})]}),f&&i.length>0&&(0,n.jsxs)("button",{onClick:()=>{i.length>0&&g(i)},className:"btn btn-primary question-submit-btn",children:["Continue with ",i.length," selected"]})]})]})}let cM=cD("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),cN=cD("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);function cO({title:a,content:b,keyPoints:c,drillDownOptions:d,onDrillDown:e,onContinue:f}){let[g,h]=(0,bG.useState)(!1);return(0,n.jsxs)("div",{className:"card education-card",children:[(0,n.jsx)("h3",{className:"education-title",children:a}),(0,n.jsxs)("div",{className:"education-content",children:[(0,n.jsxs)("p",{className:"education-text",children:[g?b:b.slice(0,500),b.length>500&&!g&&"..."]}),b.length>500&&(0,n.jsx)("button",{onClick:()=>h(!g),className:"education-toggle",children:g?(0,n.jsxs)(n.Fragment,{children:["Show less ",(0,n.jsx)(cN,{className:"icon-sm"})]}):(0,n.jsxs)(n.Fragment,{children:["Read more ",(0,n.jsx)(cM,{className:"icon-sm"})]})})]}),c&&c.length>0&&(0,n.jsxs)("div",{className:"education-section",children:[(0,n.jsx)("h4",{className:"education-section-title",children:"Key Takeaways"}),(0,n.jsx)("ul",{className:"education-key-points",children:c.map((a,b)=>(0,n.jsxs)("li",{className:"education-key-point",children:[(0,n.jsx)("span",{className:"education-key-point-icon",children:(0,n.jsx)(cJ,{className:"icon-sm"})}),(0,n.jsx)("span",{className:"education-key-point-text",children:a})]},b))})]}),d&&d.length>0&&e&&(0,n.jsxs)("div",{className:"education-section",children:[(0,n.jsx)("h4",{className:"education-section-title",children:"Want to go deeper?"}),(0,n.jsx)("div",{className:"education-drilldown-options",children:d.map((a,b)=>(0,n.jsx)("button",{onClick:()=>e(a),className:"btn btn-secondary education-drilldown-btn",children:a},b))})]}),f&&(0,n.jsx)("div",{className:"education-section",children:(0,n.jsxs)("button",{onClick:f,className:"btn btn-primary",children:["Continue ",(0,n.jsx)(cK,{className:"icon-sm"})]})})]})}let cP=cD("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),cQ=cD("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);function cR({industry:a,metrics:b,insights:c,onContinue:d}){return(0,n.jsxs)("div",{className:"card benchmark-card",children:[(0,n.jsxs)("div",{className:"benchmark-header",children:[(0,n.jsx)(cP,{className:"icon-lg benchmark-icon"}),(0,n.jsxs)("h3",{className:"benchmark-title",children:[a," Industry Benchmarks"]})]}),(0,n.jsx)("div",{className:"benchmark-metrics",children:b.map((a,b)=>(0,n.jsxs)("div",{className:"benchmark-metric",children:[(0,n.jsx)("div",{className:"benchmark-metric-name",children:a.name}),(0,n.jsx)("div",{className:"benchmark-metric-value",children:a.value}),a.context&&(0,n.jsx)("div",{className:"benchmark-metric-context",children:a.context})]},b))}),c&&c.length>0&&(0,n.jsxs)("div",{className:"benchmark-insights",children:[(0,n.jsxs)("h4",{className:"benchmark-insights-title",children:[(0,n.jsx)(cQ,{className:"icon-sm"}),"Did You Know?"]}),(0,n.jsx)("ul",{className:"benchmark-insights-list",children:c.map((a,b)=>(0,n.jsx)("li",{className:"benchmark-insight",children:a},b))})]}),d&&(0,n.jsx)("div",{className:"card-footer",children:(0,n.jsxs)("button",{onClick:d,className:"btn btn-primary",children:["Continue ",(0,n.jsx)(cK,{className:"icon-sm"})]})})]})}let cS=cD("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),cT=cD("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),cU=cD("rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);function cV({tactical:a,strategic:b,onSelect:c,onContinue:d}){let[e,f]=(0,bG.useState)([]),g=(a,b)=>(0,n.jsx)("div",{onClick:()=>{var b;return b=a.id,void f(a=>a.includes(b)?a.filter(a=>a!==b):[...a,b])},className:`opportunity-item ${e.includes(a.id)?"opportunity-item-selected":""}`,children:(0,n.jsxs)("div",{className:"opportunity-item-content",children:[(0,n.jsxs)("div",{className:"opportunity-item-main",children:[(0,n.jsxs)("div",{className:"opportunity-item-header",children:[(0,n.jsx)("h4",{className:"opportunity-item-name",children:a.name}),(0,n.jsxs)("span",{className:`opportunity-effort ${(a=>{switch(a){case"Low":return"opportunity-effort-low";case"Medium":return"opportunity-effort-medium";case"High":return"opportunity-effort-high"}})(a.effort)}`,children:[a.effort," Effort"]})]}),(0,n.jsx)("p",{className:"opportunity-item-description",children:a.description}),(0,n.jsxs)("div",{className:"opportunity-item-meta",children:[(0,n.jsx)("span",{className:"opportunity-timeline",children:(0,n.jsx)("strong",{children:a.timeline})}),(0,n.jsx)("span",{className:"opportunity-savings",children:a.estimatedSavings})]}),"prerequisites"in a&&a.prerequisites&&(0,n.jsxs)("div",{className:"opportunity-prerequisites",children:["Prerequisites: ",a.prerequisites.join(", ")]})]}),(0,n.jsx)("div",{className:`opportunity-checkbox ${e.includes(a.id)?"opportunity-checkbox-checked":""}`,children:e.includes(a.id)&&(0,n.jsx)(cJ,{className:"icon-sm"})})]})},a.id);return(0,n.jsxs)("div",{className:"card opportunity-card",children:[(0,n.jsxs)("div",{className:"opportunity-header",children:[(0,n.jsx)(cS,{className:"icon-lg opportunity-icon"}),(0,n.jsx)("h3",{className:"opportunity-title",children:"AI Opportunities for Your Operation"})]}),(0,n.jsx)("p",{className:"opportunity-subtitle",children:"Select the opportunities you'd like to prioritize. Click to select/deselect."}),a.length>0&&(0,n.jsxs)("div",{className:"opportunity-section",children:[(0,n.jsxs)("h4",{className:"opportunity-section-title",children:[(0,n.jsx)(cT,{className:"icon-md opportunity-section-icon-tactical"}),"Tactical Wins (30-90 days)"]}),(0,n.jsx)("div",{className:"opportunity-list",children:a.map(a=>g(a,"tactical"))})]}),b.length>0&&(0,n.jsxs)("div",{className:"opportunity-section",children:[(0,n.jsxs)("h4",{className:"opportunity-section-title",children:[(0,n.jsx)(cU,{className:"icon-md opportunity-section-icon-strategic"}),"Strategic Initiatives (6-18 months)"]}),(0,n.jsx)("div",{className:"opportunity-list",children:b.map(a=>g(a,"strategic"))})]}),e.length>0&&(0,n.jsxs)("div",{className:"opportunity-selection-count",children:[(0,n.jsx)("strong",{children:e.length})," opportunities selected"]}),(0,n.jsxs)("div",{className:"opportunity-actions",children:[c&&e.length>0&&(0,n.jsxs)("button",{onClick:()=>c(e),className:"btn btn-primary",children:["Continue with Selected ",(0,n.jsx)(cK,{className:"icon-sm"})]}),d&&(0,n.jsx)("button",{onClick:d,className:"btn btn-secondary",children:"Continue"})]})]})}let cW=cD("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);function cX({quarters:a,onContinue:b}){return(0,n.jsxs)("div",{className:"card roadmap-card",children:[(0,n.jsxs)("div",{className:"roadmap-header",children:[(0,n.jsx)(cW,{className:"icon-lg roadmap-icon"}),(0,n.jsx)("h3",{className:"roadmap-title",children:"Implementation Roadmap"})]}),(0,n.jsx)("p",{className:"roadmap-subtitle",children:"A phased approach to maximize success and minimize risk."}),(0,n.jsx)("div",{className:"roadmap-timeline",children:a.map((b,c)=>(0,n.jsxs)("div",{className:"roadmap-quarter",children:[c<a.length-1&&(0,n.jsx)("div",{className:"roadmap-connector"}),(0,n.jsxs)("div",{className:"roadmap-quarter-content",children:[(0,n.jsx)("div",{className:"roadmap-quarter-indicator",children:b.quarter}),(0,n.jsxs)("div",{className:"roadmap-quarter-body",children:[(0,n.jsx)("h4",{className:"roadmap-quarter-title",children:b.title}),(0,n.jsx)("div",{className:"roadmap-initiatives",children:b.initiatives.map((a,b)=>(0,n.jsxs)("div",{className:"roadmap-initiative",children:[(0,n.jsx)("div",{className:"roadmap-initiative-name",children:a.name}),(0,n.jsx)("div",{className:"roadmap-initiative-description",children:a.description}),a.milestone&&(0,n.jsxs)("div",{className:"roadmap-milestone",children:[(0,n.jsx)(cS,{className:"icon-sm"}),"Milestone: ",a.milestone]})]},b))})]})]})]},c))}),b&&(0,n.jsx)("div",{className:"card-footer",children:(0,n.jsxs)("button",{onClick:b,className:"btn btn-primary",children:["Continue ",(0,n.jsx)(cK,{className:"icon-sm"})]})})]})}function cY({title:a,sections:b,onContinue:c}){return(0,n.jsxs)("div",{className:"card summary-card",children:[(0,n.jsx)("h3",{className:"summary-title",children:a}),(0,n.jsx)("div",{className:"summary-sections",children:b.map((a,b)=>(0,n.jsxs)("div",{className:"summary-section",children:[(0,n.jsx)("h4",{className:"summary-section-heading",children:a.heading}),(0,n.jsx)("div",{className:"summary-section-content",children:a.content})]},b))}),c&&(0,n.jsx)("div",{className:"card-footer",children:(0,n.jsxs)("button",{onClick:c,className:"btn btn-primary",children:["Continue ",(0,n.jsx)(cK,{className:"icon-sm"})]})})]})}function cZ(){let[a]=(0,bG.useState)(()=>cy()),{messages:b,input:c,handleInputChange:d,handleSubmit:e,isLoading:f,append:g}=function({api:a="/api/chat",id:b,initialMessages:c,initialInput:d="",sendExtraMessageFields:e,experimental_onFunctionCall:f,experimental_onToolCall:g,onToolCall:h,experimental_prepareRequestBody:i,experimental_maxAutomaticRoundtrips:j=0,maxAutomaticRoundtrips:k=j,maxToolRoundtrips:l=k,maxSteps:m=null!=l?l+1:1,streamMode:n,streamProtocol:o,onResponse:p,onFinish:q,onError:r,credentials:s,headers:t,body:u,generateId:v=x,fetch:w,keepLastMessageOnError:y=!1,experimental_throttle:z}={}){n&&(null!=o||(o="text"===n?"text":void 0));let A=(0,bG.useId)(),B=null!=b?b:A,C="string"==typeof a?[a,B]:B,[D]=(0,bG.useState)([]),{data:E,mutate:F}=cn([C,"messages"],null,{fallbackData:null!=c?c:D}),G=(0,bG.useRef)(E||[]);(0,bG.useEffect)(()=>{G.current=E||[]},[E]);let{data:H,mutate:I}=cn([C,"streamData"],null),J=(0,bG.useRef)(H);(0,bG.useEffect)(()=>{J.current=H},[H]);let{data:K=!1,mutate:L}=cn([C,"loading"],null),{data:M,mutate:N}=cn([C,"error"],null),O=(0,bG.useRef)(null),P=(0,bG.useRef)({credentials:s,headers:t,body:u});(0,bG.useEffect)(()=>{P.current={credentials:s,headers:t,body:u}},[s,t,u]);let Q=(0,bG.useCallback)(async b=>{let c=G.current.length;try{L(!0),N(void 0),O.current=new AbortController,await bF({getStreamedResponse:()=>cq(a,b,cp(F,z),cp(I,z),J,P,G,O,v,o,q,p,h,e,i,w,y),experimental_onFunctionCall:f,experimental_onToolCall:g,updateChatRequest:a=>{b=a},getCurrentMessages:()=>G.current}),O.current=null}catch(a){if("AbortError"===a.name)return O.current=null,null;r&&a instanceof Error&&r(a),N(a)}finally{L(!1)}let d=G.current,j=d[d.length-1];d.length>c&&null!=j&&m>1&&cr(j)&&function(a){let b=0;for(let c=a.length-1;c>=0;c--)if("assistant"===a[c].role)b++;else break;return b}(d)<m&&await Q({messages:d})},[F,L,a,P,p,q,r,N,I,J,o,e,f,g,i,h,m,G,O,v,w,y,z]),R=(0,bG.useCallback)(async(a,{options:b,functions:c,function_call:d,tools:e,tool_choice:f,data:g,headers:h,body:i,experimental_attachments:j}={})=>{var k,l;a.id||(a.id=v());let m=await cs(j),n={headers:null!=h?h:null==b?void 0:b.headers,body:null!=i?i:null==b?void 0:b.body};return Q({messages:G.current.concat({...a,id:null!=(k=a.id)?k:v(),createdAt:null!=(l=a.createdAt)?l:new Date,experimental_attachments:m.length>0?m:void 0}),options:n,headers:n.headers,body:n.body,data:g,...void 0!==c&&{functions:c},...void 0!==d&&{function_call:d},...void 0!==e&&{tools:e},...void 0!==f&&{tool_choice:f}})},[Q,v]),S=(0,bG.useCallback)(async({options:a,functions:b,function_call:c,tools:d,tool_choice:e,data:f,headers:g,body:h}={})=>{if(0===G.current.length)return null;let i={headers:null!=g?g:null==a?void 0:a.headers,body:null!=h?h:null==a?void 0:a.body};return"assistant"===G.current[G.current.length-1].role?Q({messages:G.current.slice(0,-1),options:i,headers:i.headers,body:i.body,data:f,...void 0!==b&&{functions:b},...void 0!==c&&{function_call:c},...void 0!==d&&{tools:d},...void 0!==e&&{tool_choice:e}}):Q({messages:G.current,options:i,headers:i.headers,body:i.body,data:f,...void 0!==b&&{functions:b},...void 0!==c&&{function_call:c},...void 0!==d&&{tools:d},...void 0!==e&&{tool_choice:e}})},[Q]),T=(0,bG.useCallback)(()=>{O.current&&(O.current.abort(),O.current=null)},[]),U=(0,bG.useCallback)(a=>{"function"==typeof a&&(a=a(G.current)),F(a,!1),G.current=a},[F]),V=(0,bG.useCallback)(a=>{"function"==typeof a&&(a=a(J.current)),I(a,!1),J.current=a},[I]),[W,X]=(0,bG.useState)(d),Y=(0,bG.useCallback)(async(a,b={},c)=>{var d,e,f,g,h;if(null==(d=null==a?void 0:a.preventDefault)||d.call(a),!W&&!b.allowEmptySubmit)return;c&&(P.current={...P.current,...c});let i=await cs(b.experimental_attachments),j={headers:null!=(f=b.headers)?f:null==(e=b.options)?void 0:e.headers,body:null!=(h=b.body)?h:null==(g=b.options)?void 0:g.body};Q({messages:W||i.length||!b.allowEmptySubmit?G.current.concat({id:v(),createdAt:new Date,role:"user",content:W,experimental_attachments:i.length>0?i:void 0}):G.current,options:j,headers:j.headers,body:j.body,data:b.data}),X("")},[W,v,Q]),Z=({toolCallId:a,result:b})=>{let c=G.current.map((c,d,e)=>d===e.length-1&&"assistant"===c.role&&c.toolInvocations?{...c,toolInvocations:c.toolInvocations.map(c=>c.toolCallId===a?{...c,result:b}:c)}:c);F(c,!1),cr(c[c.length-1])&&Q({messages:c})};return{messages:E||[],setMessages:U,data:H,setData:V,error:M,append:R,reload:S,stop:T,input:W,setInput:X,handleInputChange:a=>{X(a.target.value)},handleSubmit:Y,isLoading:K,addToolResult:Z,experimental_addToolResult:Z}}({api:"/api/chat",body:{sessionId:a},initialMessages:[]}),h=(0,bG.useRef)(null);(0,bG.useEffect)(()=>{h.current?.scrollIntoView({behavior:"smooth"})},[b]),(0,bG.useEffect)(()=>{0===b.length&&g({role:"user",content:"Start the discovery conversation."})},[]);let i=a=>{g({role:"user",content:a.join(", ")})},j=a=>{g({role:"user",content:`Tell me more about: ${a}`})},k=a=>{g({role:"user",content:`I'm interested in these opportunities: ${a.join(", ")}`})},l=()=>{g({role:"user",content:"Continue"})};return(0,n.jsxs)("div",{className:"chat-container",children:[(0,n.jsx)("header",{className:"chat-header",children:(0,n.jsxs)("div",{className:"chat-header-content",children:[(0,n.jsxs)("div",{className:"chat-header-brand",children:[(0,n.jsx)(cG.default,{src:"/synaptic-icon.svg",alt:"Synaptic",width:40,height:40,className:"chat-header-logo"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"chat-header-title",children:"CS Advisor"}),(0,n.jsx)("p",{className:"chat-header-subtitle",children:"AI Opportunity Discovery for Customer Service Leaders"})]})]}),(0,n.jsxs)("button",{onClick:()=>{localStorage.removeItem("cs-advisor-session-id"),window.location.reload()},className:"btn btn-ghost chat-new-session",children:[(0,n.jsx)(cF,{className:"icon-sm"}),"New Session"]})]})}),(0,n.jsx)("div",{className:"chat-messages",children:(0,n.jsxs)("div",{className:"chat-messages-content",children:[b.map(a=>(0,n.jsxs)("div",{children:[a.content&&(0,n.jsx)(cI,{role:a.role,children:a.content}),a.toolInvocations?.map(a=>(0,n.jsx)("div",{className:"chat-tool-result",children:(a=>{if("partial-call"===a.state)return(0,n.jsx)(cH,{});let{toolName:b,args:c}=a;switch(b){case"showQuestion":return(0,n.jsx)(cL,{...c,onSelect:i});case"showEducation":return(0,n.jsx)(cO,{...c,onDrillDown:j,onContinue:l});case"showBenchmarks":return(0,n.jsx)(cR,{...c,onContinue:l});case"showOpportunities":return(0,n.jsx)(cV,{...c,onSelect:k});case"showRoadmap":return(0,n.jsx)(cX,{...c,onContinue:l});case"showSummary":return(0,n.jsx)(cY,{...c,onContinue:l});default:return null}})(a)},a.toolCallId))]},a.id)),f&&(0,n.jsx)(cH,{}),(0,n.jsx)("div",{ref:h})]})}),(0,n.jsx)("div",{className:"chat-input-container",children:(0,n.jsx)("div",{className:"chat-input-content",children:(0,n.jsxs)("form",{onSubmit:e,className:"chat-input-form",children:[(0,n.jsx)("input",{type:"text",value:c,onChange:d,placeholder:"Type your message...",className:"input chat-input",disabled:f}),(0,n.jsxs)("button",{type:"submit",disabled:f||!c.trim(),className:"btn btn-primary chat-send-btn",children:[(0,n.jsx)(cE,{className:"icon-sm"}),"Send"]})]})})})]})}a.s(["Chat",()=>cZ],82962)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__109bf3e3._.js.map