<!DOCTYPE html><html lang="en" style="--blazor-load-percentage: 100%; --blazor-load-percentage-text: &quot;100%&quot;;"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <base href="../../../mindzie_studio/index.html">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet">
    <link href="../css/mindzie-style.css" rel="stylesheet">
    <link rel="icon" type="image/png" href="../favicon.png">
<!--!--><!--!--><!--!--><title>Pipelines | Enrichment | mindzieAPI Documentation</title><!--!--><!--!--><!--!--></head>
<body>
    <div id="app"><!--!--><!--!--><!--!--><!--!--><!--!--><header class="main-header"><div class="header-content"><div class="header-left"><div class="logo"><span class="logo-text">mindzie</span>
                <span class="logo-subtitle">API Documentation</span></div></div>
        <div class="header-right"><nav class="product-nav"><a href="../../../mindzie_studio/index.html" class="product-item">mindzieStudio</a>
                <a href="../../../mindzie_data_designer/index.html" class="product-item">mindzieDataDesigner</a>
                <a href="../../index.html" class="product-item active">mindzieAPI</a></nav></div></div></header>


<div class="frame-main"><nav class="frame-sidebar"><div class="sidebar-content"><a href="../../index.html" class="nav-item overview "><!--!--><span class="nav-text"><strong>mindzieAPI</strong></span></a><!--!-->
            
            
            <div class="nav-section always-expanded" id="getting-started-section"><div class="nav-section-header-wrapper"><a href="../../getting-started/index.html" class="nav-section-title-link ">Getting Started</a></div><!--!-->
                <div id="getting-started" class="nav-section-content"><a href="../../authentication/index.html" class="nav-subitem ">Authentication</a><!--!-->
                    <a href="../../quick-start/index.html" class="nav-subitem ">Quick Start</a><!--!-->
                    <a href="../../response-formats/index.html" class="nav-subitem ">Response Formats</a></div></div><!--!-->
            
            
            <div class="nav-section always-expanded" id="action-api-section"><div class="nav-section-header-wrapper"><a href="../../action/index.html" class="nav-section-title-link ">Actions</a></div><!--!-->
                <div id="action-api" class="nav-section-content"><a href="../../action/ping/index.html" class="nav-subitem ">Ping Endpoints</a><!--!-->
                    <a href="../../action/execute/index.html" class="nav-subitem ">Execute Actions</a><!--!-->
                    <a href="../../action/history/index.html" class="nav-subitem ">Action History</a></div></div><!--!-->
            
            <div class="nav-section always-expanded" id="block-api-section"><div class="nav-section-header-wrapper"><a href="../../block/index.html" class="nav-section-title-link ">Blocks</a></div><!--!-->
                <div id="block-api" class="nav-section-content"><a href="../../block/management/index.html" class="nav-subitem ">Block Management</a><!--!-->
                    <a href="../../block/execution/index.html" class="nav-subitem ">Block Execution</a><!--!-->
                    <a href="../../block/results/index.html" class="nav-subitem ">Block Results</a><!--!-->
                    <a href="../../block/types/index.html" class="nav-subitem ">Block Types</a></div></div><!--!-->
            
            <div class="nav-section always-expanded" id="dashboard-api-section"><div class="nav-section-header-wrapper"><a href="../../dashboard/index.html" class="nav-section-title-link ">Dashboards</a></div><!--!-->
                <div id="dashboard-api" class="nav-section-content"><a href="../../dashboard/management/index.html" class="nav-subitem ">Dashboard Management</a><!--!-->
                    <a href="../../dashboard/panels/index.html" class="nav-subitem ">Panel Management</a><!--!-->
                    <a href="../../dashboard/sharing/index.html" class="nav-subitem "><!--!-->Sharing &amp; URLs</a></div></div><!--!-->
            
            <div class="nav-section always-expanded" id="dataset-api-section"><div class="nav-section-header-wrapper"><a href="../../dataset/index.html" class="nav-section-title-link ">Datasets</a></div><!--!-->
                <div id="dataset-api" class="nav-section-content"><a href="../../dataset/creation/index.html" class="nav-subitem ">Dataset Creation</a><!--!-->
                    <a href="../../dataset/import/index.html" class="nav-subitem ">Data Import</a><!--!-->
                    <a href="../../dataset/updates/index.html" class="nav-subitem ">Dataset Updates</a><!--!-->
                    <a href="../../dataset/formats/index.html" class="nav-subitem ">File Formats</a></div></div><!--!-->
            
            <div class="nav-section always-expanded" id="enrichment-api-section"><div class="nav-section-header-wrapper"><a href="../index.html" class="nav-section-title-link ">Enrichments</a></div><!--!-->
                <div id="enrichment-api" class="nav-section-content"><a href="index.html" class="nav-subitem active">Pipeline Management</a><!--!-->
                    <a href="../execution/index.html" class="nav-subitem ">Pipeline Execution</a><!--!-->
                    <a href="../notebooks/index.html" class="nav-subitem ">Notebook Integration</a></div></div><!--!-->
            
            <div class="nav-section always-expanded" id="execution-api-section"><div class="nav-section-header-wrapper"><a href="../../execution/index.html" class="nav-section-title-link ">Execution</a></div><!--!-->
                <div id="execution-api" class="nav-section-content"><a href="../../execution/queue/index.html" class="nav-subitem ">Queue Management</a><!--!-->
                    <a href="../../execution/tracking/index.html" class="nav-subitem ">Execution Tracking</a><!--!-->
                    <a href="../../execution/async/index.html" class="nav-subitem ">Async Processing</a></div></div></div></nav><!--!-->

    
    <main class="frame-content"><!--!--><div class="page-header-bar"><div class="page-header-content"><div class="page-header-left"><h1 class="page-title" tabindex="-1">Pipelines</h1><div class="page-breadcrumb">Enrichment</div></div><!--!-->
        <div class="page-header-right"><button class="page-action-button page-print-button" title="Print full document" aria-label="Print page"><!--!--><span class="oi oi-print" aria-hidden="true"></span>
                    <!--!--><span class="page-action-text">Print</span></button></div></div></div><!--!-->
        <!--!--><!--!--><!--!--><!--!-->

<!--!--><div class="documentation-content"><div class="markdown-content"><!--!-->
<p><strong>Build Data Enrichment Workflows</strong></p>
<p>Create and manage enrichment pipelines to transform and enhance your process mining datasets.</p>
<h2 id="get-pipeline-details">Get Pipeline Details</h2>
<p><strong>GET</strong> <code>/api/{tenantId}/{projectId}/enrichment/pipeline/{pipelineId}</code></p>
<p>Retrieves comprehensive information about a specific enrichment pipeline including its stages, configuration, and execution metadata.</p>
<h3 id="parameters">Parameters</h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Location</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>tenantId</code></td>
<td>GUID</td>
<td>Path</td>
<td>The tenant identifier</td>
</tr>
<tr>
<td><code>projectId</code></td>
<td>GUID</td>
<td>Path</td>
<td>The project identifier</td>
</tr>
<tr>
<td><code>pipelineId</code></td>
<td>GUID</td>
<td>Path</td>
<td>The pipeline identifier</td>
</tr>
</tbody>
</table>
<h3 id="response">Response</h3>
<pre><code class="language-json">{
  "pipelineId": "770e8400-e29b-41d4-a716-446655440000",
  "projectId": "660e8400-e29b-41d4-a716-446655440000",
  "pipelineName": "Process Mining Data Enrichment",
  "pipelineDescription": "Enriches event logs with additional attributes and calculations",
  "status": "Active",
  "stages": [
    {
      "stageId": "stage-001",
      "stageName": "Data Validation",
      "stageType": "Validation",
      "order": 1,
      "configuration": {
        "validateCaseId": true,
        "validateTimestamps": true,
        "requireActivityNames": true
      }
    },
    {
      "stageId": "stage-002",
      "stageName": "Time Enrichment",
      "stageType": "TimeCalculation",
      "order": 2,
      "configuration": {
        "addDayOfWeek": true,
        "addBusinessHours": true,
        "timezoneId": "UTC"
      }
    }
  ],
  "triggers": {
    "automatic": true,
    "schedule": "0 2 * * *",
    "onDataUpdate": true
  },
  "dateCreated": "2024-01-15T10:30:00Z",
  "dateModified": "2024-01-20T14:45:00Z",
  "createdBy": "user123",
  "lastExecutionDate": "2024-01-20T02:00:00Z",
  "lastExecutionStatus": "Success",
  "executionCount": 45
}
</code></pre>
<h2 id="list-all-pipelines">List All Pipelines</h2>
<p><strong>GET</strong> <code>/api/{tenantId}/{projectId}/enrichment/pipelines</code></p>
<p>Retrieves a list of all enrichment pipelines in the project with basic metadata and status information.</p>
<h3 id="query-parameters">Query Parameters</h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>status</code></td>
<td>string</td>
<td>Filter by pipeline status: Active, Inactive, Failed</td>
</tr>
<tr>
<td><code>page</code></td>
<td>integer</td>
<td>Page number for pagination (default: 1)</td>
</tr>
<tr>
<td><code>pageSize</code></td>
<td>integer</td>
<td>Number of items per page (default: 20, max: 100)</td>
</tr>
</tbody>
</table>
<h3 id="response-1">Response</h3>
<pre><code class="language-json">{
  "pipelines": [
    {
      "pipelineId": "770e8400-e29b-41d4-a716-446655440000",
      "pipelineName": "Process Mining Data Enrichment",
      "status": "Active",
      "stageCount": 5,
      "lastExecutionDate": "2024-01-20T02:00:00Z",
      "lastExecutionStatus": "Success",
      "dateCreated": "2024-01-15T10:30:00Z"
    }
  ],
  "totalCount": 12,
  "page": 1,
  "pageSize": 20,
  "hasNextPage": false
}
</code></pre>
<h2 id="create-new-pipeline">Create New Pipeline</h2>
<p><strong>POST</strong> <code>/api/{tenantId}/{projectId}/enrichment/pipeline</code></p>
<p>Creates a new enrichment pipeline with specified stages and configuration. The pipeline can be configured to run automatically or manually.</p>
<h3 id="request-body">Request Body</h3>
<pre><code class="language-json">{
  "pipelineName": "Customer Journey Enrichment",
  "pipelineDescription": "Enriches customer journey data with demographics and behavior patterns",
  "stages": [
    {
      "stageName": "Customer Data Lookup",
      "stageType": "DataLookup",
      "order": 1,
      "configuration": {
        "lookupTable": "customer_demographics",
        "joinKey": "customerId",
        "selectFields": ["age", "segment", "region"]
      }
    },
    {
      "stageName": "Journey Metrics",
      "stageType": "Calculation",
      "order": 2,
      "configuration": {
        "calculations": [
          {
            "fieldName": "journeyDuration",
            "formula": "LAST_TIMESTAMP - FIRST_TIMESTAMP",
            "groupBy": "caseId"
          },
          {
            "fieldName": "touchpointCount",
            "formula": "COUNT(*)",
            "groupBy": "caseId"
          }
        ]
      }
    }
  ],
  "triggers": {
    "automatic": false,
    "schedule": null,
    "onDataUpdate": true
  }
}
</code></pre>
<h3 id="response-2">Response</h3>
<p>Returns <code>201 Created</code> with the complete pipeline object including generated IDs and timestamps.</p>
<h2 id="update-pipeline">Update Pipeline</h2>
<p><strong>PUT</strong> <code>/api/{tenantId}/{projectId}/enrichment/pipeline/{pipelineId}</code></p>
<p>Updates an existing pipeline's configuration, stages, or triggers. Changes take effect on the next execution.</p>
<h3 id="request-body-1">Request Body</h3>
<pre><code class="language-json">{
  "pipelineName": "Updated Customer Journey Enrichment",
  "pipelineDescription": "Enhanced customer journey data enrichment with ML insights",
  "status": "Active",
  "triggers": {
    "automatic": true,
    "schedule": "0 3 * * *",
    "onDataUpdate": true
  }
}
</code></pre>
<h3 id="response-3">Response</h3>
<p>Returns the updated pipeline object with the same structure as the GET endpoint.</p>
<h2 id="delete-pipeline">Delete Pipeline</h2>
<p><strong>DELETE</strong> <code>/api/{tenantId}/{projectId}/enrichment/pipeline/{pipelineId}</code></p>
<p>Permanently removes a pipeline and all its execution history. This operation cannot be undone and will stop any currently running executions.</p>
<h3 id="response-codes">Response Codes</h3>
<ul>
<li><code>204 No Content</code> - Pipeline deleted successfully</li>
<li><code>404 Not Found</code> - Pipeline not found or access denied</li>
<li><code>409 Conflict</code> - Pipeline is currently executing and cannot be deleted</li>
</ul>
<h2 id="add-stage-to-pipeline">Add Stage to Pipeline</h2>
<p><strong>POST</strong> <code>/api/{tenantId}/{projectId}/enrichment/pipeline/{pipelineId}/stage</code></p>
<p>Adds a new processing stage to an existing pipeline. The stage will be inserted at the specified order position.</p>
<h3 id="request-body-2">Request Body</h3>
<pre><code class="language-json">{
  "stageName": "Process Performance Metrics",
  "stageType": "PerformanceCalculation",
  "order": 3,
  "configuration": {
    "metrics": [
      {
        "name": "cycleTime",
        "calculation": "CASE_DURATION",
        "unit": "hours"
      },
      {
        "name": "waitTime",
        "calculation": "ACTIVITY_WAITING_TIME",
        "unit": "hours"
      }
    ],
    "aggregations": ["AVG", "MAX", "MIN", "P95"]
  }
}
</code></pre>
<h3 id="response-4">Response</h3>
<p>Returns <code>201 Created</code> with the complete stage object including generated stage ID.</p>
<h2 id="remove-stage-from-pipeline">Remove Stage from Pipeline</h2>
<p><strong>DELETE</strong> <code>/api/{tenantId}/{projectId}/enrichment/pipeline/{pipelineId}/stage/{stageId}</code></p>
<p>Removes a specific stage from the pipeline. Subsequent stages will be reordered automatically.</p>
<h3 id="response-codes-1">Response Codes</h3>
<ul>
<li><code>204 No Content</code> - Stage removed successfully</li>
<li><code>404 Not Found</code> - Stage not found in pipeline</li>
<li><code>409 Conflict</code> - Cannot remove stage while pipeline is executing</li>
</ul>
<h2 id="example-complete-pipeline-workflow">Example: Complete Pipeline Workflow</h2>
<p>This example demonstrates creating and managing an enrichment pipeline:</p>
<pre><code class="language-javascript">// 1. Create a new enrichment pipeline
const createPipeline = async () =&gt; {
  const response = await fetch('/api/{tenantId}/{projectId}/enrichment/pipeline', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'Authorization': `Bearer ${token}`
    },
    body: JSON.stringify({
      pipelineName: 'Order Processing Enrichment',
      pipelineDescription: 'Enriches order data with fulfillment metrics',
      stages: [
        {
          stageName: 'Order Validation',
          stageType: 'Validation',
          order: 1,
          configuration: {
            validateOrderId: true,
            validateCustomerId: true,
            validateAmounts: true
          }
        },
        {
          stageName: 'Fulfillment Time Calculation',
          stageType: 'TimeCalculation',
          order: 2,
          configuration: {
            startActivity: 'Order Received',
            endActivity: 'Order Shipped',
            outputField: 'fulfillmentTime'
          }
        }
      ],
      triggers: {
        automatic: true,
        onDataUpdate: true
      }
    })
  });

  return await response.json();
};

// 2. Add a new stage to existing pipeline
const addStage = async (pipelineId) =&gt; {
  const response = await fetch(`/api/{tenantId}/{projectId}/enrichment/pipeline/${pipelineId}/stage`, {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'Authorization': `Bearer ${token}`
    },
    body: JSON.stringify({
      stageName: 'Customer Segmentation',
      stageType: 'Classification',
      order: 3,
      configuration: {
        segmentationRules: [
          {
            segment: 'VIP',
            condition: 'orderValue &gt; 1000'
          },
          {
            segment: 'Regular',
            condition: 'orderValue &lt;= 1000'
          }
        ]
      }
    })
  });

  return await response.json();
};

// 3. Get pipeline status
const getPipelineStatus = async (pipelineId) =&gt; {
  const response = await fetch(`/api/{tenantId}/{projectId}/enrichment/pipeline/${pipelineId}`, {
    headers: {
      'Authorization': `Bearer ${token}`
    }
  });

  return await response.json();
};
</code></pre>
<h2 id="python-example">Python Example</h2>
<pre><code class="language-python">import requests
import json
from datetime import datetime

class EnrichmentPipelineManager:
    def __init__(self, base_url, tenant_id, project_id, token):
        self.base_url = base_url
        self.tenant_id = tenant_id
        self.project_id = project_id
        self.headers = {
            'Authorization': f'Bearer {token}',
            'Content-Type': 'application/json'
        }

    def create_pipeline(self, name, description, stages, triggers=None):
        """Create a new enrichment pipeline"""
        url = f"{self.base_url}/api/{self.tenant_id}/{self.project_id}/enrichment/pipeline"
        payload = {
            'pipelineName': name,
            'pipelineDescription': description,
            'stages': stages,
            'triggers': triggers or {'automatic': False, 'onDataUpdate': True}
        }
        response = requests.post(url, json=payload, headers=self.headers)
        return response.json()

    def get_pipeline(self, pipeline_id):
        """Get pipeline details"""
        url = f"{self.base_url}/api/{self.tenant_id}/{self.project_id}/enrichment/pipeline/{pipeline_id}"
        response = requests.get(url, headers=self.headers)
        return response.json()

    def list_pipelines(self, status=None, page=1, page_size=20):
        """List all pipelines with optional filtering"""
        url = f"{self.base_url}/api/{self.tenant_id}/{self.project_id}/enrichment/pipelines"
        params = {'page': page, 'pageSize': page_size}
        if status:
            params['status'] = status

        response = requests.get(url, params=params, headers=self.headers)
        return response.json()

    def add_stage(self, pipeline_id, stage_name, stage_type, order, configuration):
        """Add a new stage to an existing pipeline"""
        url = f"{self.base_url}/api/{self.tenant_id}/{self.project_id}/enrichment/pipeline/{pipeline_id}/stage"
        payload = {
            'stageName': stage_name,
            'stageType': stage_type,
            'order': order,
            'configuration': configuration
        }
        response = requests.post(url, json=payload, headers=self.headers)
        return response.json()

    def update_pipeline(self, pipeline_id, name=None, description=None, status=None, triggers=None):
        """Update pipeline configuration"""
        url = f"{self.base_url}/api/{self.tenant_id}/{self.project_id}/enrichment/pipeline/{pipeline_id}"
        payload = {}
        if name:
            payload['pipelineName'] = name
        if description:
            payload['pipelineDescription'] = description
        if status:
            payload['status'] = status
        if triggers:
            payload['triggers'] = triggers

        response = requests.put(url, json=payload, headers=self.headers)
        return response.json()

    def delete_pipeline(self, pipeline_id):
        """Delete a pipeline"""
        url = f"{self.base_url}/api/{self.tenant_id}/{self.project_id}/enrichment/pipeline/{pipeline_id}"
        response = requests.delete(url, headers=self.headers)
        return response.status_code == 204

# Usage example
manager = EnrichmentPipelineManager(
    'https://your-mindzie-instance.com',
    'tenant-guid',
    'project-guid',
    'your-auth-token'
)

# Create a comprehensive enrichment pipeline
stages = [
    {
        'stageName': 'Data Quality Check',
        'stageType': 'Validation',
        'order': 1,
        'configuration': {
            'checkDuplicates': True,
            'validateTimestamps': True,
            'checkMissingValues': True
        }
    },
    {
        'stageName': 'Process Mining Metrics',
        'stageType': 'ProcessCalculation',
        'order': 2,
        'configuration': {
            'calculateCycleTime': True,
            'calculateWaitingTime': True,
            'calculateResourceUtilization': True,
            'detectBottlenecks': True
        }
    },
    {
        'stageName': 'Anomaly Detection',
        'stageType': 'AnomalyDetection',
        'order': 3,
        'configuration': {
            'algorithm': 'isolation_forest',
            'threshold': 0.1,
            'features': ['duration', 'cost', 'resourceCount']
        }
    }
]

pipeline = manager.create_pipeline(
    'Comprehensive Process Analysis',
    'End-to-end process analysis with anomaly detection',
    stages,
    {'automatic': True, 'schedule': '0 1 * * *', 'onDataUpdate': True}
)

print(f"Created pipeline: {pipeline['pipelineId']}")

# List all active pipelines
active_pipelines = manager.list_pipelines(status='Active')
print(f"Found {active_pipelines['totalCount']} active pipelines")
</code></pre>
</div></div></main></div><!--!-->
        <!--!--></div>

    <div id="blazor-error-ui" style="display: none;">
        <div style="background: #fff3cd; border: 1px solid #ffc107; color: #856404; padding: 15px; margin: 20px; border-radius: 4px;">
            An error has occurred. <a href="" style="color: #533f03; font-weight: 600;">Reload</a> to try again.
        </div>
    </div>

    <script src="../_framework/blazor.webassembly.js"></script>
    <script>
        // Global scroll-to-top function for navigation
        window.scrollContentToTop = function() {
            var mainContent = document.querySelector('.frame-content');
            if (mainContent) {
                mainContent.scrollTo({
                    top: 0,
                    behavior: 'instant'
                });
            }
            window.scrollTo(0, 0);
        };
    </script>


</body></html>